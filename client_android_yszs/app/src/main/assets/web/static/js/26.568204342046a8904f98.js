webpackJsonp([26],{"/HAz":function(e,t){},WyIl:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("4YfN"),i=a.n(s),n=a("fUgm"),c=a("9ER+"),r=a("4TJr"),l=a("5zGp"),o=a("iLhm"),m={components:{TicketCollector:r.a,TicketPassengerForm:l.a,TopayBar:o.a},computed:i()({},Object(n.b)(["sceneryDetailData","collector","passengerFields","passengerValues"]),{weekday:function(){return Object(c.h)(this.dateTime)},minDate:function(){return new Date},maxDate:function(){var e=this.minDate.getTime();return new Date(e+12096e5)},nowDay:function(){var e="",t=60*(new Date).getTimezoneOffset()*1e3,a=+new Date(this.dateTime)+864e5-+new Date+t;return a-864e5<0?e="(今天)":a-1728e5<0?e="(明天)":a-2592e5<0&&(e="(后天)"),this.weekday+e},priceToPay:function(){var e=this.sceneryDetailData.ticket,t=0;return e&&(t=e.price*this.number),t},isRealName:function(){return!!(this.sceneryDetailData&&this.sceneryDetailData.ticket&&this.sceneryDetailData.ticket.isRealName)&&this.sceneryDetailData.ticket.isRealName}}),data:function(){return{dateTime:Object(c.f)((new Date).getTime()),number:1}},created:function(){this.$store.commit("GET_COLLECTOR")},mounted:function(){this.sceneryDetailData.title||this.$router.back(),this.sceneryDetailData.collector=this.collector,this.sceneryDetailData.ticket.number=this.number,this.sceneryDetailData.noDate||(this.sceneryDetailData.date=this.dateTime),this.isRealName&&(this.sceneryDetailData.passengers=this.passengerValues)},watch:{number:function(e){this.sceneryDetailData.ticket.number=e},dateTime:function(e){this.sceneryDetailData.date=e}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main-page",{staticClass:"scenery-booking-container",attrs:{title:"旅游门票预订",back:""}},[a("template",{slot:"scroll"},[a("div",{staticClass:"block-section"},[a("div",{staticClass:"title"},[e._v("\n        "+e._s(e.sceneryDetailData.title)+"\n      ")]),e._v(" "),e.sceneryDetailData.noDate?a("div",{staticClass:"address-wrapper"},[e._v("\n        "+e._s(e.sceneryDetailData.address)+"\n      ")]):a("div",{staticClass:"datetime-wrapper"},[a("p",{staticClass:"tip"},[e._v("使用日期选择：")]),e._v(" "),a("mu-date-input",{staticClass:"date-picker",attrs:{container:"bottomSheet","label-float":"","full-width":"","value-format":"YYYY-MM-DD",minDate:e.minDate,maxDate:e.maxDate},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}},[a("span",{staticClass:"nowday-label"},[e._v(e._s(e.nowDay))])])],1)]),e._v(" "),a("div",{staticClass:"block-section"},[a("div",{staticClass:"title"},[e._v("\n        票种价格及数量\n      ")]),e._v(" "),a("div",{staticClass:"content ticket-wrapper"},[a("div",{staticClass:"ticket-title"},[e._v(e._s(e.sceneryDetailData.ticket.ticketName))]),e._v(" "),a("div",{staticClass:"ticket-content"},[a("div",{staticClass:"price-wrapper"},[a("span",[e._v("单价：")]),e._v(" "),a("span",{staticClass:"price"},[e._v("￥"+e._s(e.sceneryDetailData.ticket.price))])]),e._v(" "),a("number-adjust",{attrs:{num:e.number},on:{"update:num":function(t){e.number=t}}})],1)])]),e._v(" "),e.isRealName?a("ticket-passenger-form",{staticClass:"block-section passenger",attrs:{fields:e.passengerFields,values:e.passengerValues,addText:"游客",type:"scenery",limit:e.number}}):e._e(),e._v(" "),a("div",{staticClass:"block-section"},[a("div",{staticClass:"title"},[a("span",[e._v("联系人信息")]),e._v(" "),a("span",{staticClass:"sub-title"},[e._v("仅需提供一人信息")])]),e._v(" "),a("ticket-collector",{attrs:{type:"scenery",isRealName:e.isRealName},model:{value:e.collector,callback:function(t){e.collector=t},expression:"collector"}})],1)],1),e._v(" "),a("topay-bar",{attrs:{slot:"bottom",isRealName:e.isRealName,orderObj:e.sceneryDetailData,type:"scenery"},slot:"bottom",model:{value:e.priceToPay,callback:function(t){e.priceToPay=t},expression:"priceToPay"}})],2)},staticRenderFns:[]};var D=a("C7Lr")(m,u,!1,function(e){a("/HAz")},null,null);t.default=D.exports}});