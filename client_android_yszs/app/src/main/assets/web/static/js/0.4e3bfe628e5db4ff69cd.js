webpackJsonp([0],{"+dde":function(t,e){},"/9Wm":function(t,e,i){"use strict";var s={name:"PlaneBusItem",props:{depTime:{type:String,default:""},travelTime:{type:String,default:""},toTime:String,backTime:String,startPort:{type:String,default:""},endPort:{type:String,default:""},price:{type:[String,Number],default:""},busType:{type:String,default:""},amount:{type:[Number,String],default:0},disable:{type:Boolean,default:!1},reason:{type:String},showTicketInfo:{type:String}},computed:{isDisable:function(){return this.disable}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"is-link",rawName:"v-is-link"}],staticClass:"bus-item-wrapper",class:{"disable-item":t.isDisable}},[i("div",{staticClass:"cell-box"},[t.depTime?i("div",{staticClass:"cell-item cell-time"},[i("div",{staticClass:"depart-time"},[t._v(t._s(t.depTime))]),t._v(" "),t.travelTime?i("div",{staticClass:"travel-time"},[t._v(t._s(t.travelTime))]):t._e(),t._v(" "),t.backTime?i("div",{staticClass:"back-time"},[i("span",{staticClass:"back-time-tips"},[t._v("返")]),t._v(" "),i("span",{staticClass:"back-time-text"},[t._v(t._s(t.backTime))])]):t._e()]):t._e(),t._v(" "),i("div",{staticClass:"cell-item cell-station"},[i("div",{staticClass:"station"},[i("div",{staticClass:"station-icon"}),t._v(" "),i("div",{staticClass:"station-info"},[i("div",{staticClass:"depart-station"},[t._v(t._s(t.startPort))]),t._v(" "),i("div",{staticClass:"arr-station"},[t._v(t._s(t.endPort))])])]),t._v(" "),t.busType?i("div",{staticClass:"bus-type"},[i("i",{staticClass:"iconfont icon-qichepiao"}),t._v(" "),i("span",{staticClass:"type"},[t._v(t._s(t.busType))])]):t._e()]),t._v(" "),i("div",{staticClass:"cell-item cell-ticket"},[t.price?i("div",{staticClass:"current-price"},[i("span",{staticClass:"price-symbol"},[t._v("￥")]),t._v(" "),i("span",{staticClass:"price-number"},[t._v(t._s(t.price))])]):t._e(),t._v(" "),t.amount?i("span",{staticClass:"amount"},[t._v(t._s(t.amount))]):t._e(),t._v(" "),t.isDisable?i("span",{staticClass:"disable-reason"},[t._v(t._s(t.reason))]):t._e()])])])},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("oReo")},null,null);e.a=a.exports},"2+6c":function(t,e){},"3cXf":function(t,e,i){t.exports={default:i("L+o2"),__esModule:!0}},"4TJr":function(t,e,i){"use strict";var s={components:{FormItem:i("zuie").a},props:{placeholderName:String,placeholderId:String,placeholderMobile:String,value:{type:Object,default:function(){return{}}},type:{type:String},isRealName:{type:Boolean,default:!1}},computed:{collectorObj:function(){return this.value}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-collector"},[i("form-item",{attrs:{title:"联系人",placeholder:t.placeholderName||"订票联系人姓名"},model:{value:t.collectorObj.name,callback:function(e){t.$set(t.collectorObj,"name",e)},expression:"collectorObj.name"}}),t._v(" "),"scenery"!==t.type&&"homestay"!==t.type||t.isRealName?t._e():i("form-item",{attrs:{title:"身份证",placeholder:t.placeholderId||"订票联系人身份证",maxLength:"18"},model:{value:t.collectorObj.id,callback:function(e){t.$set(t.collectorObj,"id",e)},expression:"collectorObj.id"}}),t._v(" "),i("form-item",{attrs:{title:"手机号",placeholder:t.placeholderMobile||"用于接收订票信息",maxLength:"11"},model:{value:t.collectorObj.tel,callback:function(e){t.$set(t.collectorObj,"tel",e)},expression:"collectorObj.tel"}})],1)},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("92Rm")},null,null);e.a=a.exports},"5zGp":function(t,e,i){"use strict";var s=i("4YfN"),n=i.n(s),a=i("zuie"),r=i("fctu"),c=i("lC5x"),o=i.n(c),l=i("J0Oq"),u=i.n(l),h=i("HzJ8"),d=i.n(h),m=i("aA9S"),p=i.n(m),f={components:{FormItem:a.a},props:{addText:{type:String,default:"乘客"},value:{type:Object,default:function(){}},passengerTypes:{type:Object,default:function(){}},idTypes:{type:Object,default:function(){}},methods:Function,hasChild:{type:Boolean,default:!1}},data:function(){return{passengerObj:{}}},mounted:function(){this.passengerObj=p()({},this.value)},methods:{editPassenger:function(){var t=this;return u()(o.a.mark(function e(){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods(t.passengerObj,t.value);case 2:i=e.sent,t.$emit("update",i);case 4:case"end":return e.stop()}},e,t)}))()},choosePassengerType:function(t){this.hasChild||2!==parseInt(t)?this.$set(this.passengerObj,"passengerType",t):this.$toast("无法选择儿童票")},chooseIdType:function(t){this.$set(this.passengerObj,"type",t)}}},v={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-passenger-edit-form-container"},[i("div",{staticClass:"form-wrapper"},[i("form-item",{staticClass:"form-item",attrs:{title:t.addText+"类型",type:"custom"}},t._l(t.passengerTypes,function(e,s){return i("span",{key:s,staticClass:"label",class:{"label-select":t.passengerObj.passengerType==s},on:{click:function(e){return t.choosePassengerType(s)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),0),t._v(" "),i("form-item",{staticClass:"form-item",attrs:{title:"证件类型",type:"custom"}},t._l(t.idTypes,function(e,s){return i("span",{key:s,staticClass:"label",class:{"label-select":t.passengerObj.type==s},on:{click:function(e){return t.chooseIdType(s)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),0),t._v(" "),i("form-item",{staticClass:"form-item",attrs:{title:"姓名",placeholder:"请输入"+t.addText+"姓名"},model:{value:t.passengerObj.name,callback:function(e){t.$set(t.passengerObj,"name",e)},expression:"passengerObj.name"}}),t._v(" "),i("form-item",{staticClass:"form-item",attrs:{title:"证件号码",placeholder:"请输入有效证件号码"},model:{value:t.passengerObj.id,callback:function(e){t.$set(t.passengerObj,"id",e)},expression:"passengerObj.id"}})],1),t._v(" "),i("div",{staticClass:"ticket-passenger-button-wrapper"},[i("mu-button",{staticClass:"ticket-passenger-button",attrs:{color:"primary","full-width":""},on:{click:t.editPassenger}},[t._v("确定")])],1)])},staticRenderFns:[]};var y=i("C7Lr")(f,v,!1,function(t){i("LhB7")},null,null).exports,C=i("gyMJ"),g=i("fUgm"),_=i("wczm"),k={components:{PopupContainer:r.a,TicketPassengerEdit:y},props:{addText:{type:String,default:"乘客"},value:{},values:{},index:{type:Number,default:0},passengerTypes:{type:Object,default:function(){}},idTypes:{type:Object,default:function(){}},hasChild:{type:Boolean,default:!1}},data:function(){return{methods:C._10,showEditPassenger:!1}},methods:{editPassenger:function(t){this.value=t,this.showEditPassenger=!0},updated:function(t){this.showEditPassenger=!1,this.values&&!Object(_.c)(this.values)&&this.$set(this.values,this.index,t)}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"passenger-list-item-wrapper"},[i("div",{directives:[{name:"is-link",rawName:"v-is-link"}],staticClass:"passenger-list-item-right",on:{click:function(e){return t.editPassenger(t.value)}}},[i("div",{staticClass:"line"},[i("span",{staticClass:"name"},[t._v(t._s(t.value.name))]),t._v(" "),i("span",{staticClass:"label"},[t._v(t._s(t.passengerTypes[t.value.passengerType]||"成人票"))])]),t._v(" "),i("div",{staticClass:"line"},[i("span",{staticClass:"id"},[t._v(t._s(t.idTypes[t.value.type]||"身份证")+"  "+t._s(t.value.id))])])]),t._v(" "),i("popup-container",{attrs:{show:t.showEditPassenger,appendToBody:"",position:"bottom",title:"编辑"+t.addText},on:{"update:show":function(e){t.showEditPassenger=e}}},[i("ticket-passenger-edit",{attrs:{value:t.value,passengerTypes:t.passengerTypes,idTypes:t.idTypes,methods:t.methods,hasChild:t.hasChild},on:{update:t.updated}})],1)],1)},staticRenderFns:[]};var T=i("C7Lr")(k,b,!1,function(t){i("VNv0")},null,null).exports,w=i("OxEx"),L={components:{PopupContainer:r.a,TicketPassengerAdd:y,TicketPassengerItem:T,CommonItem:w.a},props:{addText:{type:String,default:"乘客"},passengerTypes:{type:Object,default:function(){}},idTypes:{type:Object,default:function(){}},limit:{type:[String,Number],default:5},hasChild:{type:Boolean,default:!1}},computed:n()({},Object(g.b)(["passengerValues","passengerListValues"]),{checkedCnt:function(){var t=0,e=!0,i=!1,s=void 0;try{for(var n,a=d()(this.passengerListValues);!(e=(n=a.next()).done);e=!0){n.value.checked&&++t}}catch(t){i=!0,s=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw s}}return t}}),data:function(){return{passengerList:[],choosedPassengerList:[],showEditPassenger:!1,passengerObj:{title:"",methods:void 0,value:{},optType:""},checkedValues:[]}},mounted:function(){var t=this;this.checkedValues=this.passengerValues,this.passengerObj.title="新增"+this.addText,this.passengerObj.methods=C.a,this.passengerObj.value={passengerType:1,type:1},this.mergePassengerList().then(function(){t.setPassengerChecked()})},methods:{setPassengerChecked:function(){var t=this;return u()(o.a.mark(function e(){var i,s,n,a,r,c,l,u,h,m,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=!0,s=!1,n=void 0,e.prev=3,a=d()(t.passengerListValues);case 5:if(i=(r=a.next()).done){e.next=29;break}for(c=r.value,l=!0,u=!1,h=void 0,e.prev=10,m=d()(t.checkedValues);!(l=(p=m.next()).done);l=!0)p.value.id===c.id&&t.$set(c,"checked",!0);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),u=!0,h=e.t0;case 18:e.prev=18,e.prev=19,!l&&m.return&&m.return();case 21:if(e.prev=21,!u){e.next=24;break}throw h;case 24:return e.finish(21);case 25:return e.finish(18);case 26:i=!0,e.next=5;break;case 29:e.next=35;break;case 31:e.prev=31,e.t1=e.catch(3),s=!0,n=e.t1;case 35:e.prev=35,e.prev=36,!i&&a.return&&a.return();case 38:if(e.prev=38,!s){e.next=41;break}throw n;case 41:return e.finish(38);case 42:return e.finish(35);case 43:case"end":return e.stop()}},e,t,[[3,31,35,43],[10,14,18,26],[19,,21,25],[36,,38,42]])}))()},mergePassengerList:function(){var t=this;return u()(o.a.mark(function e(){var i,s,n,a,r,c,l,u,h,m,p,f,v,y,g;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.passengerListValues,e.prev=1,e.next=4,Object(C.A)();case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error(e.t0);case 9:s=!1,n=!0,a=!1,r=void 0,e.prev=13,c=d()(i);case 15:if(n=(l=c.next()).done){e.next=46;break}for(u=l.value,h=!1,m=!0,p=!1,f=void 0,e.prev=21,v=d()(t.passengerListValues);!(m=(y=v.next()).done);m=!0)g=y.value,u.id===g.id&&(h=!0,s=!0);e.next=29;break;case 25:e.prev=25,e.t1=e.catch(21),p=!0,f=e.t1;case 29:e.prev=29,e.prev=30,!m&&v.return&&v.return();case 32:if(e.prev=32,!p){e.next=35;break}throw f;case 35:return e.finish(32);case 36:return e.finish(29);case 37:if(h){e.next=43;break}return u.passengerType||(u.passengerType=1),u.type||(u.type=1),e.next=42,Object(C.a)(u);case 42:t.passengerListValues.push(u);case 43:n=!0,e.next=15;break;case 46:e.next=52;break;case 48:e.prev=48,e.t2=e.catch(13),a=!0,r=e.t2;case 52:e.prev=52,e.prev=53,!n&&c.return&&c.return();case 55:if(e.prev=55,!a){e.next=58;break}throw r;case 58:return e.finish(55);case 59:return e.finish(52);case 60:if(!s){e.next=63;break}return e.next=63,Object(C.A)();case 63:case"end":return e.stop()}},e,t,[[1,6],[13,48,52,60],[21,25,29,37],[30,,32,36],[53,,55,59]])}))()},addPassenger:function(){this.passengerObj.value={passengerType:1,type:1},this.showEditPassenger=!0},getPassengerList:function(){var t=this;return u()(o.a.mark(function e(){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(C.A)();case 3:return i=e.sent,t.setPassengerChecked(),e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),new Error(e.t0);case 11:case"end":return e.stop()}},e,t,[[0,8]])}))()},deletePassenger:function(t,e){var i=this;return u()(o.a.mark(function s(){return o.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(C.j)(t,e);case 2:case"end":return i.stop()}},s,i)}))()},updated:function(){this.showEditPassenger=!1},confirm:function(){var t=this;this.choosedPassengerList=[],this.passengerListValues.forEach(function(e){e.checked&&t.choosedPassengerList.push(e)}),this.$emit("confirm",this.choosedPassengerList)}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main-page",[i("div",{staticClass:"ticket-passenger-tips"},[i("i",{staticClass:"iconfont icon-xinxi-xianxingyuankuang"}),t._v(" "),i("span",[t._v("此订单最多可添加"+t._s(t.limit)+"人，已经添加"+t._s(t.checkedCnt)+"人")])]),t._v(" "),i("div",{staticClass:"ticket-passenger-add-button-wrapper"},[i("mu-button",{staticClass:"ticket-passenger-add-button",attrs:{flat:"",color:"primary","full-width":""},on:{click:t.addPassenger}},[t._v("添加"+t._s(t.addText))])],1),t._v(" "),i("div",{staticClass:"passenger-list",attrs:{slot:"scroll"},slot:"scroll"},t._l(t.passengerListValues,function(e,s){return i("div",{key:e.__ob__.dep.id,staticClass:"passenger-list-item"},[i("common-item",{attrs:{deletable:"",flex:""},on:{delete:function(i){return t.deletePassenger(e,s)}}},[i("mu-checkbox",{staticClass:"item-checkbox",attrs:{disabled:!e.checked&&t.checkedCnt===t.limit||"2"===e.passengerType&&!t.hasChild},model:{value:e.checked,callback:function(i){t.$set(e,"checked",i)},expression:"item.checked"}}),t._v(" "),i("ticket-passenger-item",{staticClass:"item-right",attrs:{value:e,addText:t.addText,values:t.passengerListValues,index:s,passengerTypes:t.passengerTypes,idTypes:t.idTypes,hasChild:t.hasChild}})],1)],1)}),0),t._v(" "),i("div",{staticClass:"ticket-passenger-button-wrapper",attrs:{slot:"bottom"},slot:"bottom"},[i("mu-button",{staticClass:"ticket-passenger-button",attrs:{color:"primary","full-width":""},on:{click:t.confirm}},[t._v("确定")])],1),t._v(" "),i("popup-container",{attrs:{show:t.showEditPassenger,appendToBody:"",position:"bottom",title:t.passengerObj.title},on:{"update:show":function(e){t.showEditPassenger=e}}},[i("ticket-passenger-add",{attrs:{value:t.passengerObj.value,addText:t.addText,passengerTypes:t.passengerTypes,idTypes:t.idTypes,title:t.passengerObj.title,methods:t.passengerObj.methods,hasChild:t.hasChild},on:{update:t.updated}})],1)],1)},staticRenderFns:[]};var S=i("C7Lr")(L,x,!1,function(t){i("+dde")},null,null).exports,N={components:{FormItem:a.a,PopupContainer:r.a,TicketPassengerChooseList:S,TicketPassengerItem:T},props:{addText:{type:String,default:"乘客"},fields:{type:Array},values:{type:Array},limit:{type:[Number,String],default:5},hasChild:{type:Boolean,default:!1},type:String},computed:n()({isLogin:function(){return this.$store.getters.token}},Object(g.b)(["defaultPassengerTypes","defaultIdTypes","collector"]),{passengerTypes:function(){return n()({},this.defaultPassengerTypes,{2:"儿童票"})},idTypes:function(){return"bus"===this.type?{1:"身份证"}:this.defaultIdTypes}}),data:function(){return{selectIndex:0,showPassengerList:!1,showEditPassenger:!1}},created:function(){},methods:{addPassenger:function(){this.limit&&this.values.length>=this.limit?this.$toast("该订单最多只能添加"+this.limit+"位乘客"):this.showPassengerList=!0},addPassengerConfirm:function(t){this.showPassengerList=!1,!this.collector.name&&t.length>0&&this.$set(this.collector,"name",t[0].name)},delPassenger:function(t){this.values[t].checked=!1,this.selectIndex=0}}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-passenger-form"},[i("div",{staticClass:"section-title-with-border-left"},[t._v(t._s(t.addText)+"信息")]),t._v(" "),t._l(t.values,function(e,s){return i("div",{key:e.__ob__.dep.id,staticClass:"ticket-passenger-form-wrapper"},[t.values.length>1?i("div",{staticClass:"ticket-passenger-form-sub",on:{click:function(e){return t.delPassenger(s)}}},[i("i",{staticClass:"iconfont icon-sub2"})]):t._e(),t._v(" "),i("div",{staticClass:"ticket-passenger-form-content"},[i("ticket-passenger-item",{attrs:{value:e,values:t.values,index:s,passengerTypes:t.passengerTypes,idTypes:t.idTypes,hasChild:t.hasChild}})],1)])}),t._v(" "),i("div",{staticClass:"ticket-passenger-form-add",on:{click:t.addPassenger}},[i("i",{staticClass:"iconfont icon-add2"}),t._v(" "),i("span",[t._v("添加"+t._s(t.addText))])]),t._v(" "),i("popup-container",{attrs:{show:t.showPassengerList,appendToBody:"",position:"bottom",title:"选择"+t.addText},on:{"update:show":function(e){t.showPassengerList=e}}},[i("ticket-passenger-choose-list",{attrs:{addText:t.addText,passengerTypes:t.passengerTypes,idTypes:t.idTypes,limit:t.limit,hasChild:t.hasChild},on:{confirm:t.addPassengerConfirm}})],1)],2)},staticRenderFns:[]};var O=i("C7Lr")(N,D,!1,function(t){i("Viw6")},null,null);e.a=O.exports},"6WwV":function(t,e){},"6aDJ":function(t,e){},"6owu":function(t,e){},"92Rm":function(t,e){},Cqyv:function(t,e){},"GN/t":function(t,e,i){"use strict";var s=i("4YfN"),n=i.n(s),a={props:{isMore:{type:Boolean,default:!1},moreText:"",title:"",icon:""},mounted:function(){},methods:{toMore:function(){this.$emit("toMore")}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-title-wrapper"},[i("div",{staticClass:"home-recommend-header-title"},[i("i",{staticClass:"iconfont",class:t.icon}),t._v(" "),i("span",[t._v(t._s(t.title))])]),t._v(" "),t.$listeners.toMore?i("div",{staticClass:"more",on:{click:t.toMore}},[i("span",[t._v(t._s(t.moreText||"查看更多"))]),t._v(" "),i("i",{staticClass:"iconfont icon-forward"})]):t._e()])},staticRenderFns:[]};var c=i("C7Lr")(a,r,!1,function(t){i("MG8q")},null,null).exports,o=i("fUgm"),l={computed:n()({},Object(o.b)(["travelLineList"])),methods:{toTravelLineItem:function(t){t.routerPath?this.$router.push(("/"===this.$route.path?"":this.$route.path)+t.routerPath):this.$toast("该专线尚未开启，敬请期待")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"travel-line-list-wrapper-3"},t._l(t.travelLineList,function(e,s){return i("div",{key:s,staticClass:"item",on:{click:function(i){return t.toTravelLineItem(e)}}},[i("img",{attrs:{src:e.image,alt:""}}),t._v(" "),i("div",{staticClass:"content"},[i("p",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"desc"},[t._v(t._s(e.desc))])]),t._v(" "),i("div",{staticClass:"labels-wrapper"},t._l(e.labels,function(e,s){return i("span",{key:s,staticClass:"label"},[t._v("\n        "+t._s(e.text)+"\n      ")])}),0)])}),0)},staticRenderFns:[]};var h={components:{SectionTitle:c,TravelLineList:i("C7Lr")(l,u,!1,function(t){i("Jca5")},null,null).exports},computed:n()({},Object(o.b)(["travelLineList"])),methods:{toMoreTravelLine:function(){this.$router.push(("/"===this.$route.path?"":this.$route.path)+"/travel-line-list")},toTravelLine:function(t){t.routerPath?this.$router.push(("/"===this.$route.path?"":this.$route.path)+t.routerPath):this.$toast("该专线尚未开启，敬请期待")}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"block-section travel-line-section"},[e("section-title",{attrs:{title:"旅游专线",icon:"icon-travel-line",moreText:"更多专线"},on:{toMore:this.toMoreTravelLine}}),this._v(" "),e("travel-line-list",{staticClass:"travel-line-content"})],1)},staticRenderFns:[]};var m=i("C7Lr")(h,d,!1,function(t){i("wbsT")},null,null);e.a=m.exports},HNeU:function(t,e,i){"use strict";var s=i("aA9S"),n=i.n(s),a={props:{show:{type:Boolean,default:!1},ticketTypes:{type:Array,default:function(){return[]}}},data:function(){return{showTicketTypes:!1,types:{}}},watch:{show:{handler:function(t){this.showTicketTypes=this.show,t&&this.getTypes()},immediate:!0},showTicketTypes:function(t){this.$emit("update:show",t)}},mounted:function(){this.getTypes()},methods:{choose:function(t){this.types[t].disabled||this.$emit("choose",this.ticketTypes[t])},getTypes:function(){this.types=this.ticketTypes.map(function(t,e){if(!t.surplusTicket)return t;var i=n()({},t),s=i.surplusTicket;return isNaN(s)?("无"===s&&(i.disabled=!0),s+="票"):s+="张",i.surplusTicket="("+s+")",i})}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("l-dialog",{staticClass:"ticket-type-choose-dialog",attrs:{show:t.showTicketTypes},on:{"update:show":function(e){t.showTicketTypes=e}}},[i("div",{staticClass:"ticket-type-choose-dialog-title"},[t._v("请选择票种")]),t._v(" "),i("div",{staticClass:"ticket-type-choose-dialog-content"},t._l(t.types,function(e,s){return i("div",{key:s,staticClass:"ticket-item",class:{"ticket-item-disabled":e.disabled},on:{click:function(e){return t.choose(s)}}},[i("div",{staticClass:"ticket-title"},[i("span",[t._v(t._s(e.ticketType))]),t._v(" "),e.surplusTicket?i("span",[t._v(t._s(e.surplusTicket))]):t._e(),t._v(" "),e.seatType?i("span",[t._v("("+t._s(e.seatType)+")")]):t._e()]),t._v(" "),i("span",{staticClass:"ticket-item-right"},[i("span",{class:e.disabled?"ticket-item-disabled":"price"},[t._v("￥"+t._s(e.price))]),t._v(" "),i("i",{staticClass:"iconfont icon-forward"})])])}),0)])},staticRenderFns:[]};var c=i("C7Lr")(a,r,!1,function(t){i("2+6c")},null,null);e.a=c.exports},Hqhp:function(t,e,i){"use strict";var s=i("aA9S"),n=i.n(s),a=(i("OY9E"),{props:{lineWidth:{type:Number,default:3},activeColor:String,defaultColor:String,value:{},options:{type:Object,default:function(){return{}}}},computed:{style:function(){return{transitionTimingFunction:this.transitionTimingFunction,transitionDuration:this.transitionDuration+"ms",transform:"translate3d("+this.translateX+"px, 0px, 0px)"}},transitionDuration:function(){return this.touching||!this.reBounding&&!this.touching?"0":this.reBounding&&!this.touching?this.opts.reBoundingDuration:void 0},transitionTimingFunction:function(){return this.reBounding?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.1, 0.57, 0.1, 1)"},swipeAreaWidth:function(){return window.document.body.clientWidth},listWidth:function(){return this.$refs.list.clientWidth-this.swipeAreaWidth},opts:function(){return n()({},this.defaultOptions,this.options)},isMoveLeft:function(){return this.speed<0},isMoveRight:function(){return this.speed>0}},data:function(){return{speed:0,touching:!1,reBounding:!1,translateX:0,startX:0,lastX:0,frameTime:16.7,frameStartTime:0,frameEndTime:0,inertiaFrame:0,touchFrame:0,zeroSpeed:.001,acceleration:0,defaultOptions:{additionalX:50,reBoundExponent:10,sensitivity:1e3,reBoundingDuration:360}}},mounted:function(){var t=this;this.bindEvent(),this.$el.addEventListener("transitionend",function(){t.reBounding=!1},!1)},methods:{handleTouchStart:function(t){cancelAnimationFrame(this.inertiaFrame),cancelAnimationFrame(this.touchFrame),this.startX=this.lastX=t.touches[0].clientX,this.lastMoveStamp=t.timeStamp},handleTouchMove:function(t){this.listWidth<=0||(t.preventDefault(),t.stopPropagation(),this.touching=!0,this.startMoveTime=this.endMoveTime,this.currentX=t.touches[0].clientX,this.touchFrame=requestAnimationFrame(this.moveFellowTouch),this.endMoveTime=t.timeStamp)},handleTouchEnd:function(t){if(this.touching=!1,this.checkReboundX())cancelAnimationFrame(this.inertiaFrame),cancelAnimationFrame(this.touchFrame);else{var e=t.timeStamp-this.endMoveTime,i=this.endMoveTime-this.startMoveTime;if(e>100)return;this.speed=(this.lastX-this.startX)/i,this.acceleration=this.speed/this.opts.sensitivity,this.frameStartTime=(new Date).getTime(),this.inertiaFrame=requestAnimationFrame(this.moveByInertia)}},toLeft:function(){return this.currentX-this.lastX<0},checkReboundX:function(){return this.reBounding=!1,this.translateX>=0?(this.reBounding=!0,this.translateX=0):this.translateX<=-this.listWidth&&(this.reBounding=!0,this.translateX=-this.listWidth),0===this.translateX||this.translateX===-this.listWidth},bindEvent:function(){this.$el.addEventListener("touchstart",this.handleTouchStart,!1),this.$el.addEventListener("touchmove",this.handleTouchMove,!1),this.$el.addEventListener("touchend",this.handleTouchEnd,!1)},moveFellowTouch:function(){this.startX=this.lastX,this.toLeft()?this.translateX<=0&&this.translateX+this.listWidth>0?this.translateX+=this.currentX-this.lastX:this.translateX+this.listWidth<=0?this.translateX+=this.opts.additionalX*(this.currentX-this.lastX)/(this.swipeAreaWidth+Math.abs(this.translateX+this.listWidth)):this.translateX>0&&(this.translateX+=this.currentX-this.lastX):this.translateX>0?this.translateX+=this.opts.additionalX*(this.currentX-this.lastX)/(this.swipeAreaWidth+this.translateX):this.translateX<=0&&this.translateX+this.listWidth>=0?this.translateX+=this.currentX-this.lastX:this.translateX+this.listWidth<=0&&(this.translateX+=this.currentX-this.lastX),this.lastX=this.currentX},moveByInertia:function(){this.frameEndTime=(new Date).getTime(),this.frameTime=this.frameEndTime-this.frameStartTime,this.isMoveLeft?this.translateX<=-this.listWidth?(this.acceleration*=(this.opts.reBoundExponent+Math.abs(this.translateX+this.listWidth))/this.opts.reBoundExponent,this.speed=Math.min(this.speed-this.acceleration,0)):this.speed=Math.min(this.speed-this.acceleration*this.frameTime,0):this.isMoveRight&&(this.translateX>=0?(this.acceleration*=(this.opts.reBoundExponent+this.translateX)/this.opts.reBoundExponent,this.speed=Math.max(this.speed-this.acceleration,0)):this.speed=Math.max(this.speed-this.acceleration*this.frameTime,0)),this.translateX+=this.speed*this.frameTime/2,Math.abs(this.speed)<=this.zeroSpeed?this.checkReboundX():(this.frameStartTime=this.frameEndTime,this.inertiaFrame=requestAnimationFrame(this.moveByInertia))}}}),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"l-tab"},[e("div",{ref:"list",staticClass:"l-tab-list",style:this.style},[this._t("default")],2)])},staticRenderFns:[]};var c=i("C7Lr")(a,r,!1,function(t){i("kZtm")},null,null).exports,o={name:"LTabItem",componentName:"LTabItem",props:{selected:{type:Boolean,default:!1}},computed:{style:function(){return{color:this.$parent.activeColor||"#26a2ff",borderColor:this.$parent.activeColor,borderWidth:this.$parent.lineWidth,borderBottomStyle:"solid"}}},data:function(){return{id:(this.$parent.$children.length||1)-1}},methods:{onItemClicked:function(){this.$parent.$emit("input",this.id)}}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"l-tab-item",style:this.$parent.value===this.id?this.style:{},on:{click:this.onItemClicked}},[this._t("default")],2)},staticRenderFns:[]};var u=i("C7Lr")(o,l,!1,function(t){i("xHPZ")},null,null).exports;i.d(e,"a",function(){return c}),i.d(e,"b",function(){return u})},HzJ8:function(t,e,i){t.exports={default:i("P/sN"),__esModule:!0}},Iddj:function(t,e){},IjFZ:function(t,e){},Jca5:function(t,e){},Kbva:function(t,e){},"L+o2":function(t,e,i){var s=i("ZuHZ"),n=s.JSON||(s.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},L3N0:function(t,e){},LhB7:function(t,e){},MG8q:function(t,e){},N3LN:function(t,e,i){"use strict";var s=i("9ER+"),n={props:{value:{type:[String,Number],default:Object(s.f)()},category:{type:String,default:""},canWebBuyDays:{type:Number,default:-1}},data:function(){return{curDate:this.value,oneDayMs:864e5}},computed:{weekday:function(){return Object(s.h)(this.curTime)},curTime:function(){return new Date(this.curDate).getTime()},formatTime:function(){return Object(s.d)(new Date(this.curTime))},minDate:function(){return new Date},minDateTime:function(){return parseInt(this.minDate.getTime()/this.oneDayMs)*this.oneDayMs},maxDate:function(){var t=this.minDateTime,e=14;return this.canWebBuyDays>0&&(e=this.canWebBuyDays-1),new Date(t+this.oneDayMs*e)},cannotPickPreDay:function(){return this.curTime<=this.minDate.getTime()},cannotPickAfterDay:function(){return this.curTime>=this.maxDate.getTime()}},methods:{pickBrotherDate:function(t,e){var i=t||(new Date).getTime();if(!(this.cannotPickPreDay&&!e||this.cannotPickAfterDay&&e)){this.curDate=Object(s.f)(e?i+864e5:i-864e5)}}},watch:{curDate:function(t){this.$store.commit("SET_QUERY_DATE",t),this.$emit("input",t)}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"datepick-bar"},[i("div",{staticClass:"datepick-btn",class:{disabled:t.cannotPickPreDay},on:{click:function(e){return t.pickBrotherDate(t.curTime)}}},[i("i",{staticClass:"iconfont icon-back"}),i("span",[t._v("前一天")])]),t._v(" "),i("div",{staticClass:"datepick-btn date-picker"},[i("span",{staticClass:"current-date"},[t._v(t._s(t.formatTime)+" "+t._s(""+t.weekday))]),t._v(" "),i("i",{staticClass:"iconfont icon-rili-xianxing-xi"}),t._v(" "),i("mu-date-input",{staticClass:"datepicker",attrs:{container:"bottomSheet","value-format":"YYYY-MM-DD",minDate:t.minDate,maxDate:t.maxDate},model:{value:t.curDate,callback:function(e){t.curDate=e},expression:"curDate"}})],1),t._v(" "),i("div",{staticClass:"datepick-btn",class:{disabled:t.cannotPickAfterDay},on:{click:function(e){return t.pickBrotherDate(t.curTime,!0)}}},[i("span",[t._v("后一天")]),i("i",{staticClass:"iconfont icon-forward"})])])},staticRenderFns:[]};var r=i("C7Lr")(n,a,!1,function(t){i("aSNf")},null,null);e.a=r.exports},OY9E:function(t,e){!function(){for(var t=0,e=["webkit","moz"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var s=(new Date).getTime(),n=Math.max(0,16.7-(s-t)),a=s-t,r=window.setTimeout(function(){e(a)},n);return t=s+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},Of67:function(t,e,i){"use strict";var s=i("HzJ8"),n=i.n(s),a={props:{list:{type:Array,default:null}},data:function(){return{protocol:""}},computed:{total:function(){var t=0,e=!0,i=!1,s=void 0;try{for(var a,r=n()(this.list);!(e=(a=r.next()).done);e=!0){var c=a.value;c.price&&(t+=c.price*c.count)}}catch(t){i=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw s}}return t}},methods:{getProtocol:function(){this.protocol="汽车票预订协议内容"},showProtocol:function(){this.getProtocol(),this.$emit("showProtocol",this.protocol)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-price-detail"},[i("div",{staticClass:"detail"},[t._l(t.list,function(e,s){return e.price&&e.count?i("p",{key:s,staticClass:"detail-item"},[i("span",[t._v(t._s(e.name))]),t._v(" "),i("span",[t._v("￥"+t._s(e.price)+" x "+t._s(e.count))])]):t._e()}),t._v(" "),i("p",{staticClass:"detail-sum-price"},[t._v("总金额：￥"+t._s(t.total||0))])],2),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var c=i("C7Lr")(a,r,!1,function(t){i("Q+8v")},null,null);e.a=c.exports},OxEx:function(t,e,i){"use strict";var s={props:{deletable:{type:Boolean,default:!1},maxDistance:{type:Number,default:80},minDistance:{type:Number,default:30},flex:{type:Boolean,default:!1}},data:function(){return{startX:0,startY:0,moveX:0,distance:0,moveStart:!1}},computed:{distancePercent:function(){var t=document.body.clientWidth;return document.body.clientWidth<768?this.distance/t*100:this.distance/(.7*t)*100}},mounted:function(){this.addEvent()},methods:{addEvent:function(){var t=this;this.$nextTick(function(){t.deletable&&(t.$refs["common-item"].addEventListener("touchstart",t.touchStart),t.$refs["common-item"].addEventListener("touchmove",t.touchMove),t.$refs["common-item"].addEventListener("touchend",t.touchEnd))})},touchStart:function(t){this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0].clientX,i=t.touches[0].clientY,s=this.moveX+e-this.startX;Math.abs(e-this.startX)>5&&!(Math.abs(i-this.startY)>5&&0===this.moveX)&&(this.moveStart=!0),s>0||s<-this.maxDistance||this.moveStart&&(this.distance=s)},touchEnd:function(t){0!==this.moveX&&(t.stopPropagation(),t.preventDefault()),this.distance-this.moveX<-this.minDistance?this.distance=-this.maxDistance:this.distance=0,this.moveX=this.distance,this.moveStart=!1},deleteThis:function(){this.$emit("delete")}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-item-wrapper"},[t.deletable?i("div",{staticClass:"common-item-delete",on:{click:t.deleteThis}},[i("i",{staticClass:"iconfont icon-del"}),i("span",{staticClass:"text"},[t._v("删除")])]):t._e(),t._v(" "),i("div",{ref:"common-item",class:{"common-item-flex":t.flex},style:{transform:"translate3D("+t.distancePercent+"%, 0, 0)"}},[t._t("default")],2)])},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("6WwV")},null,null);e.a=a.exports},"P/sN":function(t,e,i){i("MJJS"),i("at0p"),t.exports=i("eBrH")},"Q+8v":function(t,e){},QW2c:function(t,e){},ROgV:function(t,e,i){"use strict";var s={props:{placeholder:String,value:String,searchBtnText:{type:String,default:"搜索"}},data:function(){return{keyword:this.value}},methods:{back:function(){this.$emit("back")},clear:function(){this.keyword=""},onSearch:function(){this.$emit("onSearch")}},watch:{keyword:function(t){this.$emit("input",t)},value:function(t){this.keyword=t}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-header"},[i("i",{staticClass:"iconfont icon-back",on:{click:t.back}}),t._v(" "),t.$listeners.onSearch?i("div",{staticClass:"search-header-search-wrapper",on:{click:function(e){return t.onSearch()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-header-search-input",attrs:{autocomplete:"off",placeholder:t.placeholder,readonly:""},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]):i("div",{staticClass:"search-header-search-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search-header-search-input",attrs:{autocomplete:"off",placeholder:t.placeholder},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),t._v(" "),t.keyword?i("i",{staticClass:"iconfont icon-close",on:{click:t.clear}}):t._e()]),t._v(" "),t.$listeners.commit?i("div",{staticClass:"search-btn",on:{click:function(e){return t.$emit("commit",t.keyword)}}},[t._v(t._s(t.searchBtnText))]):t._e()])},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("IjFZ")},null,null);e.a=a.exports},T5Zl:function(t,e){},TALM:function(t,e){},"VHW+":function(t,e,i){"use strict";var s=i("4YfN"),n=i.n(s),a=i("lC5x"),r=i.n(a),c=i("J0Oq"),o=i.n(c),l=i("ROgV"),u=i("HzJ8"),h=i.n(u),d=i("aA9S"),m=i.n(d),p=i("egan"),f=i("gyMJ"),v={components:{BScroll:p.a},props:{search:{type:String,default:""},hotCityObj:{type:Object},category:{type:Number,default:1}},data:function(){return{listPos:[],rapidSelectSize:{},touched:!1,curWord:"热门",cityList:m()({},this.hotCityObj),words:["热门","A","B","C","D","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","W","X","Y","Z"],wordTitleHeight:40,scrollRef:"scroll",cityListMainRef:"city-list-main",rapidSelectBarRef:"rapid-select-bar"}},computed:{historyCities:function(){var t=this.$store.getters.historyCities[this.category]||[];return t}},mounted:function(){this.calculateHeight()},activated:function(){this.$refs[this.scrollRef].scrollTo(0,0)},methods:{calculateHeight:function(){var t=this;this.$nextTick(function(){var e=t.$refs[t.cityListMainRef].children,i=!0,s=!1,n=void 0;try{for(var a,r=h()(e);!(i=(a=r.next()).done);i=!0){var c=a.value;t.listPos.push(c.offsetTop)}}catch(t){s=!0,n=t}finally{try{!i&&r.return&&r.return()}finally{if(s)throw n}}var o=t.$refs[t.rapidSelectBarRef];if(o){var l=o.children;t.rapidSelectSize={offsetTop:o.offsetTop,itemOffsetHeight:l[0].offsetHeight}}})},selectCity:function(t){this.$store.commit("ADD_HISTORY_CITIES",{category:this.category,item:t}),this.$emit("selected",t)},onRapidTouchStart:function(t,e){this.$refs[this.scrollRef].scrollTo(0,-this.listPos[e]),this.curWord=this.words[e],this.touched=!0},onRapidTouchMove:function(t){var e=t.touches[0].clientY-this.rapidSelectSize.offsetTop,i=parseInt(e/this.rapidSelectSize.itemOffsetHeight);this.$refs[this.scrollRef].scrollTo(0,-this.listPos[i]),this.curWord=this.words[i]},onRapidTouchEnd:function(t,e){this.touched=!1,"热门"!==this.curWord&&this.getCities(this.curWord)},showCities:function(t){this.getCities(t)},getCities:function(t){var e=this;return o()(r.a.mark(function i(){var s;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(e.cityList[t]){i.next=6;break}return i.next=3,Object(f.n)({letter:t},e.category);case 3:(s=i.sent)&&e.$set(e.cityList,t,s),e.calItemHeight(t);case 6:e.$nextTick(function(){var i=e.words.indexOf(t);e.$refs[e.scrollRef].scrollTo(0,-e.listPos[i])});case 7:case"end":return i.stop()}},i,e)}))()},calItemHeight:function(t){var e=this,i=this.words.indexOf(t);this.$nextTick(function(){e.$refs[e.scrollRef].refresh();for(var t=e.$refs[e.cityListMainRef].children[i].offsetHeight,s=i+1;s<e.listPos.length;++s)e.listPos[s]+=t-e.wordTitleHeight})},cityFilter:function(t,e){var i={list:[]};for(var s in t)"function"==typeof e&&e(t,s,i);return i}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-scroll",{ref:t.scrollRef,staticClass:"city-list"},[i("ul",{ref:t.cityListMainRef,staticClass:"city-list-main"},[t.historyCities&&t.historyCities.length>0?i("div",{staticClass:"city-list-history"},[i("p",{staticClass:"title-word"},[t._v("历史城市")]),t._v(" "),i("div",{staticClass:"history-city-list-wrapper city-list"},t._l(t.historyCities,function(e,s){return i("div",{key:s,staticClass:"history-city-item city-item",on:{click:function(i){return t.selectCity(e)}}},[t._v("\n          "+t._s(e.cname)+"\n        ")])}),0)]):t._e(),t._v(" "),t._l(t.words,function(e,s){return i("li",{key:s,staticClass:"city-list-main-items"},["热门"===e?i("div",[i("p",{staticClass:"title-word"},[t._v("热门城市")]),t._v(" "),i("ul",{staticClass:"city-list"},t._l(t.cityList[e],function(e,s){return i("li",{key:s,staticClass:"city-item",on:{click:function(i){return t.selectCity(e)}}},[i("span",[t._v(t._s(e.cname))])])}),0)]):i("div",[i("p",{staticClass:"city-list-main-word",style:{height:t.wordTitleHeight+"px"},on:{click:function(i){return t.showCities(e)}}},[t._v(t._s(e))]),t._v(" "),t._l(t.cityList[e],function(e,s){return i("p",{key:s,staticClass:"city-list-main-item",on:{click:function(i){return t.selectCity(e)}}},[i("span",[t._v(t._s(e.cname))]),t._v(" "),i("span",{staticClass:"city-list-main-item-abbr"},[t._v(t._s(e.short))])])})],2)])})],2),t._v(" "),t.search?t._e():i("ul",{ref:t.rapidSelectBarRef,staticClass:"city-list-rapid-select-bar"},t._l(t.words,function(e,s){return i("li",{key:s,staticClass:"rapid-sel-item",on:{touchstart:function(e){return t.onRapidTouchStart(e,s)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.onRapidTouchMove(e)},touchend:function(e){return t.onRapidTouchEnd(e,s)}}},[t._v("\n        "+t._s(e)+"\n    ")])}),0),t._v(" "),t.touched?i("div",{staticClass:"city-list-touched-word"},[t._v(t._s(t.curWord))]):t._e()])},staticRenderFns:[]};var C=i("C7Lr")(v,y,!1,function(t){i("XZBR")},null,null).exports,g=i("Hqhp"),_={"热门":[{ename:"zhoushan",short:"ZS",cname:"舟山",firstLetter:"Z",code:"HSN"},{ename:"ningbo",short:"NB",cname:"宁波",firstLetter:"N",code:"NGB"},{ename:"hangzhou",short:"HZ",cname:"杭州",firstLetter:"H",code:"HGH"},{ename:"shanghai",short:"SH",cname:"上海",firstLetter:"S",code:"SHA"},{ename:"beijing",short:"BJ",cname:"北京",firstLetter:"B",code:"BJS"},{ename:"tianjin",short:"TJ",cname:"天津",firstLetter:"T",code:"TSN"},{ename:"guangzhou",short:"GZ",cname:"广州",firstLetter:"G",code:"CAN"},{ename:"shenzhen",short:"SZ",cname:"深圳",firstLetter:"S",code:"SZX"},{ename:"chongqing",short:"CQ",cname:"重庆",firstLetter:"C",code:"CKG"},{ename:"chengdu",short:"CD",cname:"成都",firstLetter:"C",code:"CTU"},{ename:"wuhan",short:"WH",cname:"武汉",firstLetter:"W",code:"WUH"},{ename:"xian",short:"XA",cname:"西安",firstLetter:"X",code:"SIA"},{ename:"changsha",short:"CS",cname:"长沙",firstLetter:"C",code:"CSX"},{ename:"xiamen",short:"XM",cname:"厦门",firstLetter:"X",code:"XMN"},{ename:"kunming",short:"KM",cname:"昆明",firstLetter:"K",code:"KMG"},{ename:"jinan",short:"JN",cname:"济南",firstLetter:"J",code:"TNA"},{cname:"三亚",ename:"SANYA",short:"SY",code:"SYX",countryCode:"CN",countryName:"中国",firstLetter:"S"},{cname:"福州",ename:"FUZHOU",short:"FZ",code:"FOC",countryCode:"CN",countryName:"中国",firstLetter:"F"},{cname:"郑州",ename:"ZHENGZHOU",short:"ZZ",code:"CGO",countryCode:"CN",countryName:"中国",firstLetter:"Z"},{cname:"青岛",ename:"QINGDAO",short:"QD",code:"TAO",countryCode:"CN",countryName:"中国",firstLetter:"Q"}]},k={"热门":[{cname:"香港",ename:"XIANGGANG",code:"HKG",countryCode:"HK",countryName:"中国香港",firstLetter:"X"},{cname:"首尔",ename:"SHOUER",code:"SEL",countryCode:"KR",countryName:"韩国",firstLetter:"S"},{cname:"澳门",ename:"AOMEN",code:"MFM",countryCode:"MO",countryName:"中国澳门",firstLetter:"A"},{cname:"东京",ename:"DONGJING",code:"TYO",countryCode:"JP",countryName:"日本",firstLetter:"D"},{cname:"新加坡",ename:"XINJIAPO",code:"SIN",countryCode:"SG",countryName:"新加坡",firstLetter:"X"},{cname:"台北",ename:"TAIBEI",code:"TPE",countryCode:"TW",countryName:"中国台湾",firstLetter:"T"},{cname:"曼谷",ename:"MANGU",code:"BKK",countryCode:"TH",countryName:"泰国",firstLetter:"M"},{cname:"大阪",ename:"DABAN",code:"OSA",countryCode:"JP",countryName:"日本",firstLetter:"D"},{cname:"马尼拉",ename:"MANILA",code:"MNL",countryCode:"PH",countryName:"菲律宾",firstLetter:"M"},{cname:"名古屋",ename:"MINGGUWU",code:"NGO",countryCode:"JP",countryName:"日本",firstLetter:"M"},{cname:"巴黎",ename:"BALI",code:"PAR",countryCode:"FR",countryName:"法国",firstLetter:"B"},{cname:"伦敦",ename:"LUNDUN",code:"LON",countryCode:"GB",countryName:"英国",firstLetter:"L"},{cname:"吉隆坡",ename:"JILONGPO",code:"KUL",countryCode:"MY",countryName:"马来西亚",firstLetter:"J"},{cname:"釜山",ename:"FUSHAN",code:"PUS",countryCode:"KR",countryName:"韩国",firstLetter:"F"},{cname:"悉尼",ename:"XINI",code:"SYD",countryCode:"AU",countryName:"澳大利亚",firstLetter:"X"},{cname:"法兰克福",ename:"FALANKEFU",code:"FRA",countryCode:"DE",countryName:"德国",firstLetter:"F"},{cname:"温哥华",ename:"WENGEHUA",code:"YVR",countryCode:"CA",countryName:"加拿大",firstLetter:"W"},{cname:"洛杉矶",ename:"LUOSHANJI",code:"LAX",countryCode:"US",countryName:"美国",firstLetter:"L"},{cname:"柏林",ename:"BOLIN",code:"BER",countryCode:"DE",countryName:"德国",firstLetter:"B"},{cname:"纽约",ename:"NIUYUE",code:"NYC",countryCode:"US",countryName:"美国",firstLetter:"N"}]},b={"热门":[{short:"DH",id:206,firstLetter:"D",ename:"dinghai",cname:"定海",parentName:"舟山"},{short:"XC",id:1737,firstLetter:"X",ename:"xincheng",cname:"新城",parentName:"舟山"},{short:"PT",id:1736,firstLetter:"P",ename:"putuo",cname:"普陀",parentName:"舟山"},{short:"ZS",id:1656,firstLetter:"Z",ename:"zhoushan",cname:"舟山",parentName:"浙江"},{short:"NB",id:904,firstLetter:"N",ename:"ningbo",cname:"宁波",parentName:"浙江"},{short:"HZ",id:398,firstLetter:"H",ename:"hangzhou",cname:"杭州",parentName:"浙江"},{short:"SH",id:1100,firstLetter:"S",ename:"shanghai",cname:"上海",parentName:"上海"},{short:"SX",id:1111,firstLetter:"S",ename:"shaoxing",cname:"绍兴",parentName:"浙江"},{short:"DS",firstLetter:"D",ename:"daishan",cname:"岱山",parentName:"舟山"},{short:"YS",firstLetter:"Y",ename:"yushan",cname:"鱼山",parentName:"舟山"},{short:"SS",id:1743,firstLetter:"S",ename:"shengsi",cname:"嵊泗",parentName:"舟山"},{short:"SJMT",id:1740,firstLetter:"S",ename:"sanjiangmatou",cname:"三江码头",parentName:"舟山"},{short:"HFMT",firstLetter:"H",ename:"haifengmatou",cname:"海丰码头",parentName:"舟山"},{short:"zjj",firstLetter:"Z",ename:"zhujiajian",cname:"朱家尖",parentName:"舟山"},{short:"pts",firstLetter:"P",ename:"putuoshan",cname:"普陀山",parentName:"舟山"},{short:"xs",firstLetter:"X",ename:"xiangshan",cname:"象山",parentName:"宁波"},{short:"sp",firstLetter:"S",ename:"shipu",cname:"石浦",parentName:"宁波"},{short:"lh",firstLetter:"L",ename:"liuheng",cname:"六横",parentName:"舟山"},{short:"nh",firstLetter:"N",ename:"ninghai",cname:"宁海",parentName:"宁波"},{short:"yy",firstLetter:"Y",ename:"yuyao",cname:"余姚",parentName:"宁波"},{short:"cx",firstLetter:"C",ename:"cixi",cname:"慈溪",parentName:"宁波"},{short:"hzhl",firstLetter:"H",ename:"hangzhouhuanglong",cname:"杭州西站",parentName:"杭州"},{short:"JJ",id:1742,firstLetter:"J",ename:"jiaojiang",cname:"椒江",parentName:"台州"},{short:"WZ",id:1304,firstLetter:"W",ename:"wenzhou",cname:"温州",parentName:"浙江"},{short:"YW",id:1514,firstLetter:"Y",ename:"yiwu0",cname:"义乌",parentName:"金华"},{short:"JX",id:544,firstLetter:"J",ename:"jiaxing",cname:"嘉兴",parentName:"浙江"},{short:"TZ",id:1234,firstLetter:"T",ename:"taizhou0",cname:"台州",parentName:"浙江"},{short:"JH",id:546,firstLetter:"J",ename:"jinhua",cname:"金华",parentName:"浙江"},{short:"LS",id:694,firstLetter:"L",ename:"lishui0",cname:"丽水",parentName:"浙江"},{short:"QZ",id:1021,firstLetter:"Q",ename:"quzhou1",cname:"衢州",parentName:"浙江"},{short:"HZ",id:410,firstLetter:"H",ename:"huzhou",cname:"湖州",parentName:"浙江"},{short:"SZ",id:1101,firstLetter:"S",ename:"suzhou",cname:"苏州",parentName:"江苏"},{short:"WX",id:1301,firstLetter:"W",ename:"wuxi0",cname:"无锡",parentName:"江苏"},{short:"NJ",id:901,firstLetter:"N",ename:"nanjing0",cname:"南京",parentName:"江苏"},{short:"CZ",id:98,firstLetter:"C",ename:"changzhou",cname:"常州",parentName:"江苏"},{short:"NT",id:902,firstLetter:"N",ename:"nantong",cname:"南通",parentName:"江苏"}]},T={"热门":[{short:"NB",id:314,firstLetter:"N",ename:"ningbo",code:"NGH",cname:"宁波"},{short:"HZ",id:44,firstLetter:"H",ename:"hangzhou",code:"HZH",cname:"杭州"},{short:"SH",id:12,firstLetter:"S",ename:"shanghai",code:"SHH",cname:"上海"},{short:"WZ",id:431,firstLetter:"W",ename:"wenzhou",code:"RZH",cname:"温州"},{short:"SX",id:1618,firstLetter:"S",ename:"shaoxing",code:"SOH",cname:"绍兴"},{short:"JX",id:1101,firstLetter:"J",ename:"jiaxing",code:"JXH",cname:"嘉兴"},{short:"JH",id:228,firstLetter:"J",ename:"jinhua",code:"JBH",cname:"金华"},{short:"LS",id:1222,firstLetter:"L",ename:"lishui",code:"USH",cname:"丽水"},{short:"HZ",id:1040,firstLetter:"H",ename:"huzhou",code:"VZH",cname:"湖州"},{short:"TZ",id:1713,firstLetter:"T",ename:"taizhou",code:"TZH",cname:"台州"},{short:"QZ",id:349,firstLetter:"Q",ename:"quzhou",code:"QEH",cname:"衢州"},{short:"SZ",id:381,firstLetter:"S",ename:"suzhou",code:"SZH",cname:"苏州"},{short:"WX",id:424,firstLetter:"W",ename:"wuxi",code:"WXH",cname:"无锡"},{short:"NJ",id:56,firstLetter:"N",ename:"nanjing",code:"NJH",cname:"南京"},{short:"CN",id:112,firstLetter:"C",ename:"cangnan",code:"CEH",cname:"苍南"},{short:"YQ",id:2006,firstLetter:"Y",ename:"yueqing",code:"UPH",cname:"乐清"},{short:"FH",id:830,firstLetter:"F",ename:"fenghua",code:"FHH",cname:"奉化"},{short:"YY",id:2036,firstLetter:"Y",ename:"yuyao",code:"YYH",cname:"余姚"},{short:"DQ",id:2206,firstLetter:"D",ename:"deqing",code:"DRH",cname:"德清"},{short:"HS",id:209,firstLetter:"H",ename:"huangshan",code:"HKH",cname:"黄山"},{short:"NH",id:1337,firstLetter:"N",ename:"ninghai",code:"NHH",cname:"宁海"},{short:"TX",id:1704,firstLetter:"T",ename:"tongxiang",code:"TCH",cname:"桐乡"},{short:"QDH",firstLetter:"Q",ename:"qiandaohu",code:"QDU",cname:"千岛湖"},{short:"YDS",id:1956,firstLetter:"Y",ename:"yandangshan",code:"YGH",cname:"雁荡山"}]},w=i("fUgm"),L={props:{isDept:{type:Number,defualt:1}},computed:n()({},Object(w.b)(["ticketFormData"]),{startName:function(){return this.ticketFormData.start&&!this.isDept?this.ticketFormData.start.alias+" => ":""}}),data:function(){return{list:[]}},mounted:function(){this.getPlaneBusStationList()},methods:{getPlaneBusStationList:function(){var t=this;return o()(r.a.mark(function e(){var i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i={isDept:t.isDept},"start"in t.ticketFormData&&!t.isDept&&(i.sCity=t.ticketFormData.start.cname),e.next=4,Object(f.B)(i);case 4:t.list=e.sent;case 5:case"end":return e.stop()}},e,t)}))()},onItem:function(t){this.$emit("selected",t)}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"plane-bus-city-list-wrapper"},t._l(t.list,function(e,s){return i("div",{key:s,staticClass:"item",on:{click:function(i){return t.onItem(e)}}},[t._v("\n    "+t._s(t.startName)+" "+t._s(e.alias)+"\n  ")])}),0)},staticRenderFns:[]};var S=i("C7Lr")(L,x,!1,function(t){i("6aDJ")},null,null).exports,N={components:{SearchHeader:l.a,InternalAirList:C,ForeignAirList:C,BusCityList:C,LTab:g.a,LTabItem:g.b,PlaneBusCityList:S},props:{isShow:{type:Boolean,default:!1},type:{type:String,default:"plane",validator:function(t){return["plane","bus","train","planebus"].indexOf(t)>-1}},isDept:{type:Number,default:1}},computed:n()({},Object(w.b)(["ticketFormData"])),data:function(){return{searchValue:"",planeType:0,queryResults:null,hotCityObj:_,ForeignHotCityObj:k,busHotCity:b,trainHotCity:T,category:1}},mounted:function(){this.initCategory()},methods:{initCategory:function(){this.category={plane:1,bus:3,train:4,planebus:31}[this.type]||"plane"},back:function(){this.$parent.hide()},selectCity:function(t){t.category=this.category,this.$emit("selected",t),this.back()},queryCity:function(t){var e=this;return o()(r.a.mark(function i(){var s;return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(s={keyword:t},31!==e.category){i.next=9;break}return s.isDept=e.isDept,"start"in e.ticketFormData&&!e.isDept&&(s.sCity=e.ticketFormData.start.cname),i.next=6,Object(f.B)(s);case 6:e.queryResults=i.sent,i.next=12;break;case 9:return i.next=11,Object(f.n)(s,e.category);case 11:e.queryResults=i.sent;case 12:case"end":return i.stop()}},i,e)}))()}},watch:{searchValue:function(t){t&&this.queryCity(t)},queryResults:function(){this.$refs.scroller&&this.$refs.scroller.refresh()}}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city-picker"},[i("search-header",{staticClass:"city-picker-header",attrs:{placeholder:"输入城市关键字"},on:{back:t.back},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),t._v(" "),t.searchValue?i("div",{staticClass:"city-list-main-wrapper"},[i("p",{staticClass:"city-list-main-word"},[t._v("搜索结果")]),t._v(" "),i("b-scroll",{ref:"scroller",staticClass:"query-result-wrapper"},[i("ul",{staticClass:"hot-list"},t._l(t.queryResults,function(e,s){return i("li",{key:s,staticClass:"city-list-main-item",on:{click:function(i){return t.selectCity(e)}}},[i("span",[t._v(t._s(e.cname))]),t._v(" "),i("span",{staticClass:"city-list-main-item-abbr"},[t._v(t._s(e.short))])])}),0)])],1):"plane"===t.type?i("div",{staticClass:"city-list-main-wrapper air-city-list"},[i("l-tab",{staticClass:"city-tab",attrs:{activeColor:"#26a2ff"},model:{value:t.planeType,callback:function(e){t.planeType=e},expression:"planeType"}},[i("l-tab-item",{nativeOn:{click:function(e){t.category=1}}},[t._v("国内")]),t._v(" "),i("l-tab-item",{nativeOn:{click:function(e){t.category=2}}},[t._v("国际/港澳台")])],1),t._v(" "),i("keep-alive",[1===t.category?i("internal-air-list",{staticClass:"city-picker-list",attrs:{search:t.searchValue,hotCityObj:t.hotCityObj,category:1},on:{selected:t.selectCity}}):t._e()],1),t._v(" "),i("keep-alive",[2===t.category?i("foreign-air-list",{staticClass:"city-picker-list",attrs:{search:t.searchValue,hotCityObj:t.ForeignHotCityObj,category:2},on:{selected:t.selectCity}}):t._e()],1)],1):"bus"===t.type?i("div",{staticClass:"city-list-main-wrapper bus-city-list"},[i("keep-alive",[3===t.category?i("bus-city-list",{staticClass:"city-picker-list",attrs:{search:t.searchValue,hotCityObj:t.busHotCity,category:3},on:{selected:t.selectCity}}):t._e()],1)],1):"train"===t.type?i("div",{staticClass:"city-list-main-wrapper train-city-list"},[i("keep-alive",[4===t.category?i("bus-city-list",{staticClass:"city-picker-list",attrs:{search:t.searchValue,hotCityObj:t.trainHotCity,category:4},on:{selected:t.selectCity}}):t._e()],1)],1):"planebus"===t.type?i("b-scroll",{staticClass:"city-list-main-wrapper plane-bus-city-list"},[i("plane-bus-city-list",{staticClass:"city-picker-list",attrs:{search:t.searchValue,category:31,isDept:t.isDept},on:{selected:t.selectCity}})],1):t._e()],1)},staticRenderFns:[]};var O={name:"TicketFormCity",components:{CityPicker:i("C7Lr")(N,D,!1,function(t){i("mSQv")},null,null).exports,PopupContainer:i("fctu").a},props:{mode:{type:String,default:"plane"},startPlaceholder:{type:String,default:"出发地"},endPlaceholder:{type:String,default:"目的地"}},data:function(){return{isShow:!1,type:"",isDept:1}},computed:n()({},Object(w.b)(["ticketFormData"]),{startCity:function(){return this.$parent.ticketFormData.start},endCity:function(){return this.$parent.ticketFormData.end}}),mounted:function(){},methods:{toCityPicker:function(t){this.type=t,this.isShow=!0,this.isDept="start"===t?1:0},picked:function(t){"planebus"===this.mode&&this.isDept&&this.$set(this.$parent.ticketFormData,"end",null),this.$set(this.$parent.ticketFormData,this.type,t)},swapCity:function(){"planebus"!==this.mode&&this.swaped(this.$parent.ticketFormData)},swaped:function(t){if(t.start&&t.end){var e=t.start;t.start=t.end,t.end=e}}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-form-item"},[i("span",{staticClass:"ticket-form-item-city from-city",on:{click:function(e){return t.toCityPicker("start")}}},[t.startCity?i("p",[t._v(t._s(t.startCity.cname))]):i("p",{staticClass:"placeholder"},[t._v(t._s(t.startPlaceholder))])]),t._v(" "),i("div",{staticClass:"ticket-form-item-icon",on:{click:t.swapCity}},[i("i",{staticClass:"iconfont icon-jiaohuan"})]),t._v(" "),i("span",{staticClass:"ticket-form-item-city to-city",on:{click:function(e){return t.toCityPicker("end")}}},[t.endCity?i("p",[t._v(t._s(t.endCity.cname))]):i("p",{staticClass:"placeholder"},[t._v(t._s(t.endPlaceholder))])]),t._v(" "),i("popup-container",{attrs:{show:t.isShow},on:{"update:show":function(e){t.isShow=e}}},[i("city-picker",{attrs:{type:t.mode,isDept:t.isDept},on:{selected:t.picked}})],1)],1)},staticRenderFns:[]};var I=i("C7Lr")(O,$,!1,function(t){i("Iddj")},null,null);e.a=I.exports},VNv0:function(t,e){},ViAG:function(t,e,i){"use strict";var s=i("HzJ8"),n=i.n(s),a={props:{timeStamp:{type:Number},day:{type:Number},rmCalendarObj:{type:Object},checkInTimeStamp:{type:Number},checkOutTimeStamp:{type:Number},mode:String},computed:{rmCalendarItemObj:function(){return this.rmCalendarObj&&this.rmCalendarObj[this.timeStamp]||{}},daysPrice:function(){return this.rmCalendarItemObj.price?"￥"+this.rmCalendarItemObj.price:""},daysItemStyle:function(){return""},earliest:function(){return this.timeStamp+86400<+new Date/1e3}},data:function(){return{}},mounted:function(){},methods:{getCalendarItemClass:function(){return this.checkInTimeStamp===this.timeStamp||this.checkOutTimeStamp===this.timeStamp?"calendar-item-selected":this.checkInTimeStamp<this.timeStamp&&this.checkOutTimeStamp>this.timeStamp?"calendar-item-range":this.rmCalendarItemObj&&!this.rmCalendarItemObj.issell&&this.mode||this.earliest?"calendar-item-disabled":void 0},choose:function(){this.canChoose()&&this.$emit("choose",this.timeStamp)},canChoose:function(){return!this.earliest||(this.$toast("该日期无法选择"),!1)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"calendar-item-wrapper",class:t.getCalendarItemClass(),style:t.daysItemStyle,on:{click:t.choose}},[i("span",{staticClass:"days-number"},[t._v(t._s(t.day))]),t._v(" "),!t.rmCalendarItemObj.issell&&t.rmCalendarItemObj.price?i("span",{staticClass:"days-price"},[t._v("不可订")]):i("span",{staticClass:"days-price"},[t._v(t._s(t.daysPrice||""))])])},staticRenderFns:[]};var c={components:{CalendarItem:i("C7Lr")(a,r,!1,function(t){i("urb2")},null,null).exports},props:{show:{type:Boolean,default:!1},checkInTimeStamp:{type:Number},checkOutTimeStamp:{type:Number},rmCalendarObj:{type:Object,default:null},unableBookArr:{type:Array,default:function(){return[]}}},computed:{date:function(){return new Date},checkedCnt:function(){var t=0;return this.checkIn&&++t,this.checkOut&&++t,t}},data:function(){return{weekend:["日","一","二","三","四","五","六"],monthDays:[],calendarContentStyle:"",highLightStyle:"color: red;",disableStyle:"color: #b7b7b7;",showCalendar:this.show,checkIn:this.checkInTimeStamp,checkOut:this.checkOutTimeStamp}},watch:{showCalendar:function(t){this.$emit("update:show",t)},show:function(t){var e=this;this.showCalendar=this.show,t&&(this.resetChoose(),this.$nextTick(function(){var t=e.$refs["calendar-header"]?e.$refs["calendar-header"].clientHeight:0;e.calendarContentStyle="top: "+t+"px;"}))}},mounted:function(){this.monthDays=this.initMonthDays(6),this.checkBookable(this.checkIn,+new Date)},methods:{onMask:function(){this.showCalendar=!1},initMonthDays:function(t){for(var e=this.date.getFullYear(),i=this.date.getMonth(),s=[],n=0;n<t;++n){i>=12&&(i=0,++e);var a=this.getOneMonthDays(e,i++),r=i<10?"0"+i:i.toString(),c=new Date(e+"-"+r+"-01"),o=new Date(e+"-"+r+"-01").getDay(),l=c.getTime()/1e3;s.push({year:e,month:i,weekDays:o,oneMonthDays:a,timeStamp:l})}return s},getOneMonthDays:function(t,e){var i=!1;return(t%400==0||t%4==0&&t%100!=0)&&(i=!0),[31,i?29:28,31,30,31,30,31,31,30,31,30,31][e]},getTimeStamp:function(t,e){return t+86400*e},daysItemStyle:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return i&&!i.issell?this.disableStyle:""},cancel:function(){this.showCalendar=!1},choose:function(t){if(1!==this.checkedCnt){if(this.rmCalendarObj&&this.rmCalendarObj[t]&&!this.rmCalendarObj[t].issell)return void this.$toast("该日期无法预订");this.checkIn=0,this.checkOut=0}if(this.checkIn){if(t<this.checkIn)return this.setCheckIn(t);if(!this.checkBookable(this.checkIn,t))return void this.setCheckOut(0);this.setCheckIn(this.checkIn),this.setCheckOut(t),this.chooseSuccess()}else this.setCheckIn(t)},resetChoose:function(){this.checkIn=this.checkInTimeStamp,this.checkOut=this.checkOutTimeStamp},setCheckIn:function(t){this.checkIn=t},setCheckOut:function(t){this.checkOut=t},chooseSuccess:function(){this.$emit("choosed",1e3*this.checkIn,1e3*this.checkOut),this.showCalendar=!1},checkBookable:function(t,e){if(t===e)return this.$toast("不能选择同一天的日期"),!1;var i=!0,s=!1,a=void 0;try{for(var r,c=n()(this.unableBookArr);!(i=(r=c.next()).done);i=!0){var o=r.value;if(t<o&&e>o)return this.$toast("区间存在无法预订的日期"),!1}}catch(t){s=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw a}}return!0}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.showCalendar,expression:"showCalendar"}],staticClass:"calendar-wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.onMask(e)}}},[i("div",{ref:"calendar-header",staticClass:"calendar-header-wrapper"},[i("div",{staticClass:"calendar-header"},[i("div",{staticClass:"header-button-left",on:{click:t.cancel}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"header-title"},[t._v("选择日期")]),t._v(" "),i("div",{staticClass:"header-button-right"})]),t._v(" "),i("div",{staticClass:"calendar-weekend-wrapper"},t._l(t.weekend,function(e,s){return i("div",{key:s,staticClass:"weekend-item",style:(s+1)%7<=1?t.highLightStyle:""},[t._v("\n        "+t._s(e)+"\n      ")])}),0)]),t._v(" "),i("div",{staticClass:"calendar-content-wrapper",style:t.calendarContentStyle},t._l(t.monthDays,function(e,s){return i("div",{key:s},[i("div",{staticClass:"month-title"},[t._v(t._s(e.year+"年"+e.month+"月"))]),t._v(" "),i("div",{staticClass:"month-days-wrapper"},[t._l(e.weekDays,function(t,e){return i("div",{key:e,staticClass:"days-item item-empty"})}),t._v(" "),t._l(e.oneMonthDays,function(s,n){return[[i("calendar-item",{key:e.year+"-"+e.month+"-"+n,staticClass:"days-item",attrs:{timeStamp:t.getTimeStamp(e.timeStamp,n),checkInTimeStamp:t.checkIn,checkOutTimeStamp:t.checkOut,rmCalendarObj:t.rmCalendarObj,day:n+1,mode:t.rmCalendarObj?"withprice":""},on:{"update:checkInTimeStamp":function(e){t.checkIn=e},"update:check-in-time-stamp":function(e){t.checkIn=e},"update:checkOutTimeStamp":function(e){t.checkOut=e},"update:check-out-time-stamp":function(e){t.checkOut=e},choose:t.choose}})]]})],2)])}),0)])},staticRenderFns:[]};var l=i("C7Lr")(c,o,!1,function(t){i("TALM")},null,null);e.a=l.exports},Viw6:function(t,e){},XZBR:function(t,e){},aRX0:function(t,e){},aSNf:function(t,e){},cDNr:function(t,e,i){"use strict";var s=i("HzJ8"),n=i.n(s),a={components:{LCheckbox:i("l/dB").a},props:{list:{type:Array,default:function(){return[]}}},data:function(){return{showDialog:!1,checkedIndex:0,checkedIns:{},insList:this.list}},methods:{handleChange:function(t){this.$set(t,"checked",!t.checked),t.checked?this.$set(this.checkedIns,t.type,t):delete this.checkedIns[t.type];var e=!0,i=!1,s=void 0;try{for(var a,r=n()(this.insList);!(e=(a=r.next()).done);e=!0){var c=a.value;c!==t&&c.type===t.type&&this.$set(c,"checked",!1)}}catch(t){i=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw s}}this.exportInsList(this.checkedIns)},exportInsList:function(t){var e=[];for(var i in t)e.push(t[i]);this.$emit("change",e)},showInsIntroduce:function(t){this.$store.dispatch("showInsuranceNotice",t.id)}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"insurance-container"},[i("div",{staticClass:"tip"},[t._v("为了家人的安心，建议您选择一份保障：")]),t._v(" "),t._l(t.insList,function(e,s){return i("l-checkbox",{key:s,staticClass:"insurance-item",attrs:{id:e.id,checked:e.checked},on:{change:function(i){return t.handleChange(e)}}},[i("div",{staticClass:"text",attrs:{slot:"left-text"},slot:"left-text"},[0===s?i("span",{staticClass:"insurance-recom"},[t._v("推荐 |")]):t._e(),t._v(" "+t._s(e.name)+" "),i("i",{staticClass:"iconfont icon-wenhao",on:{click:function(i){return i.stopPropagation(),t.showInsIntroduce(e)}}})])])})],2)},staticRenderFns:[]};var c=i("C7Lr")(a,r,!1,function(t){i("L3N0")},null,null);e.a=c.exports},eBrH:function(t,e,i){var s=i("xgeF"),n=i("PsHI");t.exports=i("ZuHZ").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}},iLhm:function(t,e,i){"use strict";var s=i("HzJ8"),n=i.n(s),a=i("lC5x"),r=i.n(a),c=i("J0Oq"),o=i.n(c),l=i("4YfN"),u=i.n(l),h=i("gyMJ"),d=function(t){if("[object Array]"===Object.prototype.toString.call(t)&&0===t.length||!t)throw new Error("请添加乘客");var e=0,i=!0,s=!1,a=void 0;try{for(var r,c=n()(t);!(i=(r=c.next()).done);i=!0){var o=r.value;if(o.name.length<2||p(o.name))throw new Error("乘客姓名格式不符合要求");2===o.passengerType&&++e}}catch(t){s=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw a}}if(2*e>t.length)throw new Error("乘客儿童票不得少于成人票")},m=function(t){if(!t)throw new Error("请将联系人信息填写完整");if("[object Object]"===Object.prototype.toString.call(t))for(var e in t)if(!t[e])throw new Error("请将联系人信息填写完整");if(!t.name||t.name.length<2||p(t.name))throw new Error("联系人的姓名格式不符合要求")},p=function(t){return/\d+/.test(t)},f=i("fUgm"),v={props:{isRealName:{type:Boolean,default:!1},orderObj:{type:Object,default:null},value:{type:[Number,String],default:"-/-"},type:{type:String,validator:function(t){return["plane","bus","train","ship","scenery","homestay"].indexOf(t)>-1}},payText:{type:String,default:"去支付"}},computed:u()({},Object(f.b)(["fromPlatform","wxUserInfo"])),methods:{toPay:function(){this.$emit("commit"),this.$listeners.commit||this.toPayMethod()},toPayMethod:function(){var t=this;return o()(r.a.mark(function e(){var i,s,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.orderObj.surplusTicket<=2)){e.next=4;break}return t.$toast("余票不足，请选其他班次下单"),e.abrupt("return");case 4:if(e.prev=4,i=t.orderObj.collector,"scenery"!==t.type&&"homestay"!==t.type||t.isRealName?(s=t.$store.getters.passengerValues,t.orderObj.passengers=s,d(s),m(i),t.$store.commit("SET_PASSENGERS_LIST")):m(i),!(t.isRealName&&t.orderObj.ticket&&t.orderObj.passengers&&t.orderObj.ticket.number<t.orderObj.passengers.length)){e.next=10;break}return t.$toast("票数量不能少于游客数量"),e.abrupt("return");case 10:t.$store.commit("SET_COLLECTOR",{value:i}),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(4),t.$toast(e.t0.message),e.abrupt("return");case 17:return t.orderObj.fromPlatform=t.fromPlatform,t.orderObj.unionid=t.wxUserInfo.unionid||"",e.next=21,Object(h.g)(t.orderObj,t.type);case 21:n=e.sent,t.$router.push({path:t.$route.path+"/payment",query:{orderNo:n.orderNo}});case 23:case"end":return e.stop()}},e,t,[[4,13]])}))()},checkFieldIsEmpty:function(t,e){if("[object Array]"===Object.prototype.toString.call(t)&&0===t.length)return this.$toast(e),!1;if("[object Array]"===Object.prototype.toString.call(t)&&"[object Object]"===Object.prototype.toString.call(t[0])){var i=!0,s=!1,a=void 0;try{for(var r,c=n()(t);!(i=(r=c.next()).done);i=!0){var o=r.value;for(var l in o)if(""===o[l])return this.$toast(e),!1}}catch(t){s=!0,a=t}finally{try{!i&&c.return&&c.return()}finally{if(s)throw a}}}if("[object Object]"===Object.prototype.toString.call(t))for(var u in t)if(""===t[u])return this.$toast(e),!1;return!0}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"topay-bar"},[i("span",{staticClass:"topay-bar-price"},[t._v("￥"+t._s(t.value||0))]),t._v(" "),t._t("default"),t._v(" "),i("button",{staticClass:"topay-bar-btn",on:{click:t.toPay}},[t._v(t._s(t.payText))])],2)},staticRenderFns:[]};var C=i("C7Lr")(v,y,!1,function(t){i("lT8M")},null,null);e.a=C.exports},kZtm:function(t,e){},"l/dB":function(t,e,i){"use strict";var s={props:{id:[String,Number],checked:{type:Boolean,default:!1},label:String,disable:{type:Boolean,default:!1}},data:function(){return{value:this.checked}},methods:{handleClick:function(){this.$emit("change",!this.value)}},watch:{checked:function(t){this.value=t},value:function(t){}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"checkbox-container",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClick(e)}}},[i("div",{staticClass:"checkbox-label"},[t._t("left-text"),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"checkbox",id:"checkbox-"+t.id,hidden:""},domProps:{checked:Array.isArray(t.value)?t._i(t.value,null)>-1:t.value},on:{change:function(e){var i=t.value,s=e.target,n=!!s.checked;if(Array.isArray(i)){var a=t._i(i,null);s.checked?a<0&&(t.value=i.concat([null])):a>-1&&(t.value=i.slice(0,a).concat(i.slice(a+1)))}else t.value=n}}}),t._v(" "),i("label",{staticClass:"checkbox-beauty",attrs:{for:"checkbox-"+t.id},on:{click:function(e){return e.stopPropagation(),t.handleClick(e)}}}),t._v(" "),t._t("right-text")],2)])},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("T5Zl")},null,null);e.a=a.exports},lT8M:function(t,e){},mSQv:function(t,e){},mdso:function(t,e){},mjbv:function(t,e,i){"use strict";var s={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"l-nav"},[this._t("default")],2)},staticRenderFns:[]};var n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l-nav-item",class:{"is-selected":t.$parent.value===t.id},on:{click:function(e){return t.$parent.$emit("input",t.id)}}},[i("div",{staticClass:"l-nav-item-icon"},[t._t("icon")],2),t._v(" "),i("div",{staticClass:"l-nav-item-text"},[t._t("default")],2)])},staticRenderFns:[]};var a={components:{LNav:i("C7Lr")({name:"LNav",props:{value:{}}},s,!1,function(t){i("aRX0")},null,null).exports,LNavItem:i("C7Lr")({name:"LNavItem",data:function(){return{id:(this.$parent.$children.length||1)-1}}},n,!1,function(t){i("6owu")},null,null).exports},props:{navItems:{type:Array,default:function(){return[]}},blur:{type:Boolean,default:!1},defaultSelected:{type:Number,default:0}},computed:{compId:function(){return this.navItems[this.selected].component}},watch:{selected:function(t,e){var i=this.navItems[t].componentName,s=this.navItems[t].query;i&&this.$router.push({name:i,query:s})}},data:function(){return{selected:this.defaultSelected}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-nav-wrapper"},[i("div",{staticClass:"index-nav"},[i("div",{class:t.blur?"tab-blur":"tab-bk"}),t._v(" "),i("l-nav",{model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.navItems,function(e,s){return i("l-nav-item",{key:s},[t._v("\n        "+t._s(e.title)+"\n      ")])}),1)],1),t._v(" "),t.compId?i(t.compId,{tag:"component"}):t._e()],1)},staticRenderFns:[]};var c=i("C7Lr")(a,r,!1,function(t){i("Kbva")},null,null);e.a=c.exports},oReo:function(t,e){},rfoW:function(t,e){},tyej:function(t,e,i){"use strict";var s=i("HzJ8"),n=i.n(s);e.a={computed:{isLogin:function(){return this.$store.getters.token},priceDetailList:function(){var t=this,e=[],i=0;if(this.passengerValues.filter(function(e,s){2!==parseInt(e.passengerType)||t.detailData.childPrice?2===parseInt(e.passengerType)&&i++:t.passengerValues.splice(s,1)}),e.push({name:"成人票",price:this.detailData.fullPrice||this.detailData.price||this.detailData.nowPrice,count:this.passengerValues.length-i}),e.push({name:"儿童票",price:this.detailData.childPrice,count:i}),e.push({name:"机建+燃油费",price:this.detailData.airportPrice,count:this.passengerValues.length}),e.push({name:"代订服务费",price:this.detailData.handlingFee,count:this.passengerValues.length}),this.insurance&&0!==this.insurance.length){var s=!0,a=!1,r=void 0;try{for(var c,o=n()(this.insurance);!(s=(c=o.next()).done);s=!0){var l=c.value;e.push({name:l.name,price:l.price,count:this.passengerValues.length})}}catch(t){a=!0,r=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw r}}}return e},priceToPay:function(){var t=0,e=!0,i=!1,s=void 0;try{for(var a,r=n()(this.priceDetailList);!(e=(a=r.next()).done);e=!0){var c=a.value;c.price&&(t+=c.price*c.count)}}catch(t){i=!0,s=t}finally{try{!e&&r.return&&r.return()}finally{if(i)throw s}}return t}},methods:{toLoginView:function(){this.$store.commit("SHOW_LOGIN")}}}},urb2:function(t,e){},wBUC:function(t,e,i){"use strict";var s={props:{value:{},list:{type:Array,default:function(){return[]}}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"list-sort-bar"},[this._t("default")],2)},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("rfoW")},null,null).exports,r={props:{sortKey:{type:String,required:!0},sortTexts:{type:Array},sortText:{type:String},icon:{type:String}},computed:{id:function(){return(this.$parent.$children.length||1)-1},isSelected:function(){return this.$parent.value===this.id},showText:function(){return 0===this.sortMode?"根据"+this.sortText+"排序":1===this.sortMode?this.sortText+"升序":2===this.sortMode?this.sortText+"降序":void 0}},data:function(){return{sortMode:0}},watch:{isSelected:function(t){t||(this.sortMode=0)}},mounted:function(){this.isSelected&&this.filterList()},methods:{onItem:function(){var t=this;this.$parent.$emit("input",this.id),this.$nextTick(function(){t.isSelected&&t.filterList()})},filterList:function(){++this.sortMode>2&&(this.sortMode=1),this.sortByKey(1===this.sortMode)},sortByKey:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$parent.list.sort(function(i,s){return e?i[t.sortKey]>s[t.sortKey]?1:-1:i[t.sortKey]<s[t.sortKey]?1:-1})}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-sort-bar-item",class:{"is-selected":t.isSelected},on:{click:t.onItem}},[t.icon?i("i",{staticClass:"iconfont",class:"icon-"+t.icon}):t._e(),t._v(" "),t._t("default"),t._v(" "),t.sortTexts?i("span",[t._v(t._s(t.sortTexts[t.sortMode]))]):t.sortText?i("span",[t._v(t._s(t.showText))]):t._e()],2)},staticRenderFns:[]};var o=i("C7Lr")(r,c,!1,function(t){i("mdso")},null,null).exports;i.d(e,"a",function(){return a}),i.d(e,"b",function(){return o})},wE9i:function(t,e,i){"use strict";var s=i("aA9S"),n=i.n(s),a=i("3cXf"),r=i.n(a),c=i("4YfN"),o=i.n(c),l=i("9ER+"),u=i("fUgm"),h={components:{},props:{type:{type:String},canWebBuyDays:{type:Number,default:-1},isTripType:{type:Boolean,default:!1}},data:function(){return{dateTime:"",historySize:6}},computed:o()({},Object(u.b)(["queryHistory","queryDate","ticketFormData"]),{queryHistoryItem:function(){return this.queryHistory[this.type]||[]},weekday:function(){return Object(l.h)(this.dateTime)},queryHistoryList:function(){return this.queryHistoryItem},minDate:function(){return new Date},maxDate:function(){var t=this.minDate.getTime(),e=14,i=this.canWebBuyDays;return this.ticketFormData.trip&&this.ticketFormData.trip.canWebBuyDays&&(i=this.ticketFormData.trip.canWebBuyDays),this.$store.commit("SET_CAN_WEB_BUY_DAYS",i),i>0?e=i-1:"planebus"===this.type?e=10:"bus"===this.type&&(e=6),new Date(t+864e5*e)},nowDay:function(){var t="",e=60*(new Date).getTimezoneOffset()*1e3,i=+new Date(this.dateTime)+864e5-+new Date+e;return i-864e5<0?t="(今天)":i-1728e5<0?t="(明天)":i-2592e5<0&&(t="(后天)"),this.weekday+t}}),mounted:function(){this.dateTime=this.getDateTime(),this.$store.commit("GET_QUERY_HISTORY",{type:this.type}),this.$store.commit("SET_TICKET_FORM_DATA",this.queryHistoryItem[0]||{}),this.ticketFormData.dateTime=this.dateTime},methods:{commit:function(){if(this.isTripType){if(!this.ticketFormData.trip)return void this.$toast("请选择行程")}else{if(!this.ticketFormData.start)return void this.$toast("请选择始发地");if(!this.ticketFormData.end)return void this.$toast("请选择到达地");if(this.ticketFormData.start.cname===this.ticketFormData.end.cname)return void this.$toast("始发地和到达地不能相同")}this.updateStorage(),this.$emit("commit",this.ticketFormData)},updateStorage:function(){var t={};this.isTripType?t.trip=this.ticketFormData.trip:(t.start=this.ticketFormData.start,t.end=this.ticketFormData.end,this.ticketFormData.url&&(t.url=this.ticketFormData.url));for(var e=0;e<this.queryHistoryItem.length;e++)if(r()(this.queryHistoryItem[e].start)===r()(t.start)&&r()(this.queryHistoryItem[e].end)===r()(t.end)){this.queryHistoryItem.splice(e,1);break}var i=this.queryHistoryItem.length;i>=this.historySize&&this.queryHistoryItem.splice(this.historySize-1,i-this.historySize+1),this.queryHistoryItem.unshift(t),this.$store.commit("SET_QUERY_HISTORY",{type:this.type,value:this.queryHistoryItem})},historyItemClicked:function(t){this.ticketFormData=n()(this.ticketFormData,t),this.commit()},getDateTime:function(){return Object(l.f)((new Date).getTime())}},watch:{dateTime:function(t){this.$set(this.ticketFormData,"dateTime",t)}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("keep-alive",[i("div",{staticClass:"ticket-form"},[t._t("city"),t._v(" "),i("div",{staticClass:"ticket-form-item datetime"},[i("p",{staticClass:"tip"},[t._v("日期选择：")]),t._v(" "),i("mu-date-input",{staticClass:"date-picker",attrs:{hintText:"请选择出行时间",container:"bottomSheet","label-float":"","full-width":"","value-format":"YYYY-MM-DD",minDate:t.minDate,maxDate:t.maxDate},model:{value:t.dateTime,callback:function(e){t.dateTime=e},expression:"dateTime"}},[i("span",{staticClass:"label"},[t._v(t._s(t.nowDay))])])],1),t._v(" "),i("div",{staticClass:"ticket-form-button",on:{click:t.commit}},[t._v("查询")]),t._v(" "),i("div",{staticClass:"query-history"},[i("ul",{staticClass:"query-history-list"},t._l(t.queryHistoryList,function(e,s){return i("li",{key:s,staticClass:"query-history-item",on:{click:function(i){return t.historyItemClicked(e)}}},[e.start?i("span",{staticClass:"query-history-item-text"},[t._v("\n            "+t._s(e.start.cname)),i("i",{staticClass:"iconfont icon-city-to"}),t._v(t._s(e.end.cname)+"\n          ")]):t._e(),t._v(" "),e.trip?i("span",{staticClass:"query-history-item-text"},[t._v(t._s(e.trip.name))]):t._e()])}),0)]),t._v(" "),i("div",{staticClass:"ticket-form-bottom"},[t._t("bottom-btn")],2),t._v(" "),t._t("default")],2)])},staticRenderFns:[]};var m=i("C7Lr")(h,d,!1,function(t){i("Cqyv")},null,null);e.a=m.exports},wbsT:function(t,e){},xHPZ:function(t,e){},zuie:function(t,e,i){"use strict";var s={components:{LInput:i("ItLx").a},props:{title:{type:String},prop:{type:String},value:{type:String},placeholder:{type:String},maxLength:{type:[Number,String],default:999},canTouchTitle:{type:Boolean,default:!1},type:{type:String,default:"input"}},data:function(){return{curValue:this.value}},watch:{value:function(t){this.curValue=this.value},curValue:function(t){this.$emit("input",t)}},methods:{clear:function(){this.curValue=""},onTitle:function(){this.canTouchTitle&&this.$emit("onTitle")}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"l-form-item list-item"},[i("div",{staticClass:"l-form-item-title",on:{click:t.onTitle}},[i("span",[t._v(t._s(t.title))]),t._v(" "),t._t("icon")],2),t._v(" "),"input"===t.type?i("l-input",{attrs:{placeholder:t.placeholder,maxLength:t.maxLength},model:{value:t.curValue,callback:function(e){t.curValue=e},expression:"curValue"}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[]};var a=i("C7Lr")(s,n,!1,function(t){i("QW2c")},null,null);e.a=a.exports}});