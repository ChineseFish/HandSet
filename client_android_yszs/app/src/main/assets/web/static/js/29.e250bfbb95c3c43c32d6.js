webpackJsonp([29],{AyAg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("lC5x"),c=a.n(r),n=a("J0Oq"),s=a.n(n),o=a("zuie"),i=a("gyMJ"),l={components:{FormItem:o.a},props:{category:""},computed:{charCnt:function(){return this.feedbackContent.length},title:function(){return"ship"===this.category?"水上客运订票平台":"自游宝"},serviceHotline:function(){return"ship"===this.category?"0580-2626888":"0580-2266222"}},data:function(){return{feedbackType:0,feedbackTypes:["购票疑问","产品建议","功能异常","其他"],feedbackContent:"",tel:"",showDialog:!1}},mounted:function(){this.tel=this.$store.getters.collector.tel||""},methods:{commit:function(){var e=this;return s()(c.a.mark(function t(){var a;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={type:e.feedbackType,content:e.feedbackContent,tel:e.tel},t.prev=2,e.validator(e.params),t.next=6,Object(i.h)(a);case 6:t.sent,e.$store.commit("SHOW_DIALOG","感谢您的反馈，我们将积极采纳您的建议。"),setTimeout(function(){e.$store.commit("HIDE_DIALOG"),e.$router.back()},1e3),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),e.$toast(t.t0.message);case 15:case"end":return t.stop()}},t,e,[[2,12]])}))()},closeDialog:function(){this.showDialog=!1},validator:function(e){if(this.charCnt<5)throw new Error("请输入不少于5个字的问题描述")}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("main-page",{attrs:{title:"意见反馈",back:""}},[a("div",{staticClass:"feedback-container",attrs:{slot:"scroll"},slot:"scroll"},[a("div",{staticClass:"feedback-header-text-wrapper"},[a("span",[e._v("\n        感谢您对"+e._s(e.title)+"的支持，为了您将来有更好的用户体验，可将您的想法告诉我们，如遇一些问题需要及时跟进的请拨打客服热线\n        "),a("a",{attrs:{href:"tel://"+e.serviceHotline}},[e._v(e._s(e.serviceHotline))])])]),e._v(" "),a("div",{staticClass:"feedback-title"},[e._v("问题类型:")]),e._v(" "),a("div",{staticClass:"feedback-type-choose-wrapper"},e._l(e.feedbackTypes,function(t,r){return a("mu-radio",{key:r,staticClass:"radio",attrs:{value:r,label:t},model:{value:e.feedbackType,callback:function(t){e.feedbackType=t},expression:"feedbackType"}})}),1),e._v(" "),a("div",{staticClass:"feedback-title"},[e._v("反馈内容:")]),e._v(" "),a("div",{staticClass:"feedback-input-wrapper"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.feedbackContent,expression:"feedbackContent"}],attrs:{type:"textarea",rows:"5",placeholder:"请在此处填入您宝贵建议，问题不限于购票异常，体验不佳，吐槽开发等...",maxlength:"500"},domProps:{value:e.feedbackContent},on:{input:function(t){t.target.composing||(e.feedbackContent=t.target.value)}}}),e._v(" "),a("div",{staticClass:"char-cnt"},[e._v(e._s(e.charCnt)+" / 500")])]),e._v(" "),a("form-item",{staticClass:"feedback-tel",attrs:{title:"手机号：",placeholder:"选填，方便我们与您联系"},model:{value:e.tel,callback:function(t){e.tel=t},expression:"tel"}}),e._v(" "),a("div",{attrs:{slot:"feedback-commit-wrapper"},slot:"feedback-commit-wrapper"},[a("mu-button",{attrs:{color:"primary","full-width":""},on:{click:e.commit}},[e._v("提交建议")])],1)],1)])},staticRenderFns:[]};var u=a("C7Lr")(l,d,!1,function(e){a("tckH")},null,null);t.default=u.exports},tckH:function(e,t){}});