webpackJsonp([30],{"3aKa":function(e,t){},qqkL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("lC5x"),s=n.n(a),i=n("J0Oq"),r=n.n(i),c=n("gyMJ"),o=n("Hqhp"),l={components:{LTab:o.a,LTabItem:o.b},data:function(){return{list:[],selected:0,dynamicsInfo:{},name:"",isLoading:!0}},watch:{selected:function(e){this.$refs["main-page"].scrollToTop(),this.name=this.list[this.selected].name,this.getShipDynamics()}},mounted:function(){this.getShipArea()},methods:{getShipArea:function(){var e=this;return r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.O)({isQueryBoatInfo:1});case 2:e.list=t.sent,t.prev=4,e.name=e.list[0].name,e.getShipDynamics(),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(4),new Error("获取船班动态失败");case 12:case"end":return t.stop()}},t,e,[[4,9]])}))()},getShipDynamics:function(){var e=this;return r()(s.a.mark(function t(){var n,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={area:e.name,pageSize:30},e.isLoading=!0,t.prev=2,t.next=5,Object(c.P)(n);case 5:a=t.sent,e.isLoading=!1,e.$set(e.dynamicsInfo,e.name,a),t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(2),e.isLoading=!1,new Error("获取船班动态失败");case 14:case"end":return t.stop()}},t,e,[[2,10]])}))()}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main-page",{ref:"main-page",staticClass:"ship-dynamics-wrapper",attrs:{title:"船班动态",back:""}},[n("l-tab",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.list,function(t,a){return n("l-tab-item",{key:a,staticClass:"area-item"},[e._v("\n      "+e._s(t.name)+"\n    ")])}),1),e._v(" "),n("div",{ref:"scroller",staticClass:"ship-dynamics-content",attrs:{slot:"scroll"},slot:"scroll"},[e.name&&e.dynamicsInfo[e.name]?e._l(e.dynamicsInfo[e.name],function(t,a){return n("div",{key:a,staticClass:"dynamics-item"},[n("div",{staticClass:"title"},[e._v("\n          "+e._s(t.confrom)+"\n        ")]),e._v(" "),n("div",{staticClass:"desc"},[e._v("\n          "+e._s(t.description)+"\n        ")]),e._v(" "),n("div",{staticClass:"datetime"},[e._v("\n          "+e._s(t.datetime)+"\n        ")])])}):n("div",{staticClass:"show-info-text"},[e._v(e._s(e.isLoading?"正在获取船班动态...":"暂无船班动态"))])],2)],1)},staticRenderFns:[]};var m=n("C7Lr")(l,d,!1,function(e){n("3aKa")},null,null);t.default=m.exports}});