webpackJsonp([11],{AWjP:function(t,e){},MvcG:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("HzJ8"),r=i.n(n),s=i("4YfN"),o=i.n(s),a=i("mjbv"),c=i("wE9i"),p=i("sJ4Y"),l=i("fUgm"),u={components:{TicketForm:c.a,TicketFormTrip:p.a},computed:o()({type:function(){return"travel-line-ship-"+this.$route.params.type},canWebBuyDays:function(){return"thd"===this.$route.params.type?3:4}},Object(l.b)(["travelLineTrips","wxUserInfo"])),data:function(){return{}},methods:{commit:function(t){t.trip.url?window.location.href=t.trip.url:t.trip.href?window.location.href=t.trip.href+"&date="+t.dateTime+"&unionid="+(this.wxUserInfo.unionid||""):(this.$store.commit("SET_QUERY_DATE",t.dateTime),this.$router.push({path:this.$route.params.type+"/ship-list",query:{tripId:t.trip.id,travelName:t.trip.name,type:this.type,time:this.$store.getters.queryDate,fromType:t.trip.type}}))}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ticket-form",{attrs:{type:t.type,canWebBuyDays:t.canWebBuyDays,isTripType:""},on:{commit:t.commit}},[i("ticket-form-trip",{attrs:{slot:"city",tripList:t.travelLineTrips[t.$route.params.type].ship},slot:"city"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"order"},slot:"bottom-btn"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"tel"},slot:"bottom-btn"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"feedback"},slot:"bottom-btn"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"home"},slot:"bottom-btn"})],1)},staticRenderFns:[]};var h=i("C7Lr")(u,m,!1,function(t){i("e4x5")},null,null).exports,f={components:{TicketForm:c.a,TicketFormTrip:p.a},computed:o()({type:function(){return"travel-line-bus-"+this.$route.params.type},canWebBuyDays:function(){return 7}},Object(l.b)(["travelLineTrips"])),data:function(){return{}},mounted:function(){},methods:{commit:function(t){this.$store.commit("SET_QUERY_DATE",t.dateTime),t.trip&&(t.trip.componentPath?this.$router.push({path:this.$route.params.type+"/"+t.trip.componentPath,query:{tripName:t.trip.name,tripId:t.trip.id,type:this.type,time:t.dateTime}}):this.$router.push({path:this.$route.params.type+"/list",query:{from:t.trip.fromStationName,to:t.trip.toStationName,time:t.dateTime}}))}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ticket-form",{attrs:{type:t.type,canWebBuyDays:t.canWebBuyDays,isTripType:""},on:{commit:t.commit}},[i("ticket-form-trip",{attrs:{slot:"city",tripList:t.travelLineTrips[t.$route.params.type].bus},slot:"city"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"order"},slot:"bottom-btn"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"tel"},slot:"bottom-btn"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"feedback"},slot:"bottom-btn"}),t._v(" "),i("icon-btn",{attrs:{slot:"bottom-btn",type:"home"},slot:"bottom-btn"})],1)},staticRenderFns:[]};var d=i("C7Lr")(f,y,!1,function(t){i("hVVA")},null,null).exports,v={components:{IndexNavWrapper:a.a},computed:o()({},Object(l.b)(["travelLineList"]),{type:function(){return this.$route.params.type||"pts"},imgSrc:function(){var t=!0,e=!1,i=void 0;try{for(var n,s=r()(this.travelLineList);!(t=(n=s.next()).done);t=!0){var o=n.value;if(o.type===this.type)return o.image}}catch(t){e=!0,i=t}finally{try{!t&&s.return&&s.return()}finally{if(e)throw i}}return""}}),data:function(){return{navItems:[{title:"船票",component:h,options:{}},{title:"大巴",component:d,options:{}},{title:"景区门票",path:"/scenery",componentName:"SceneryTicket",query:{backMode:"goBack"}},{title:"民宿",path:"/homestay",componentName:"HomestayTicket"}]}},mounted:function(){},methods:{toShowBookNotice:function(){this.$store.dispatch("showBookTicketNotice","ship")}}},b={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main-page",{staticClass:"travel-line-ticket-container",attrs:{noHeader:""}},[e("template",{slot:"scroll"},[e("l-header-image",{attrs:{imgSrc:this.imgSrc,back:""}}),this._v(" "),e("index-nav-wrapper",{attrs:{navItems:this.navItems}})],1)],2)},staticRenderFns:[]};var _=i("C7Lr")(v,b,!1,function(t){i("gAZU")},null,null);e.default=_.exports},e4x5:function(t,e){},gAZU:function(t,e){},hVVA:function(t,e){},lnux:function(t,e){},sJ4Y:function(t,e,i){"use strict";var n={props:{title:String,value:{type:Boolean,default:!1}},methods:{back:function(){this.$emit("input",!1)}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("main-page",{staticClass:"trip-list-wrapper"},[e("div",{staticClass:"trip-list",attrs:{slot:"scroll"},slot:"scroll"},[this._t("default")],2)])},staticRenderFns:[]};var s=i("C7Lr")(n,r,!1,function(t){i("AWjP")},null,null).exports,o={props:{text:String}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"trip-picker-trip-item"},[e("span",[this._v(this._s(this.text))])])},staticRenderFns:[]};var c={name:"TicketFormTrip",components:{TripPicker:s,TripItem:i("C7Lr")(o,a,!1,function(t){i("lnux")},null,null).exports,PopupContainer:i("fctu").a},props:{tripList:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{isShow:!1,tripName:""}},mounted:function(){var t=this;this.$nextTick(function(){t.tripName=t.$parent.ticketFormData.trip?t.$parent.ticketFormData.trip.name:""})},methods:{toTripPicker:function(){this.isShow=!0},picked:function(t){this.tripName=t.name,this.$set(this.$parent.ticketFormData,"trip",t),this.isShow=!1}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ticket-form-item"},[i("p",{directives:[{name:"is-link",rawName:"v-is-link"}],staticClass:"ticket-form-item-city to",on:{click:t.toTripPicker}},[t.tripName?i("span",[t._v(t._s(t.tripName))]):i("span",{staticClass:"placeholder"},[t._v("请选择行程")])]),t._v(" "),i("popup-container",{attrs:{show:t.isShow,title:"行程选择"},on:{"update:show":function(e){t.isShow=e}}},[i("trip-picker",{model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},t._l(t.tripList,function(e,n){return i("section",{key:n,staticClass:"trip-section"},[i("div",{staticClass:"title"},[e.tips?i("span",{staticClass:"title-tips"},[t._v(t._s(e.tips))]):t._e(),t._v(" "),i("span",{staticClass:"title-text"},[t._v(t._s(e.title))])]),t._v(" "),t._l(e.data,function(e,n){return i("div",{key:n,staticClass:"trip-item",on:{click:function(i){return t.picked(e)}}},[i("span",{staticClass:"name"},[t._v(" |-- "+t._s(e.name))]),t._v(" "),e.isBack?i("span",{staticClass:"tip"},[t._v("返程")]):t._e(),t._v(" "),e.tipMessage?i("span",{staticClass:"tip"},[t._v(t._s(e.tipMessage))]):t._e(),t._v(" "),e.canWebBuyDays?i("span",{staticClass:"tip"},[t._v(t._s(1===e.canWebBuyDays?"仅售当日":"可售"+e.canWebBuyDays+"日内"))]):t._e()])})],2)}),0)],1)],1)},staticRenderFns:[]};var l=i("C7Lr")(c,p,!1,function(t){i("wbMi")},"data-v-ac2c6fe6",null);e.a=l.exports},wbMi:function(t,e){}});